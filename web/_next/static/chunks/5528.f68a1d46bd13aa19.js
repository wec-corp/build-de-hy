(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5528],{448:function(e,l,n){"use strict";var t=n(85893),i=n(89090),a=n(21038),s=n(60990),c=n(52857),o=n(51423),h=n(44723),r=n(49986),d=n(51015),u=n(67294),g=n(64577);l.Z=e=>{let{url:l,data:n,setPostSuccess:x}=e,[m,p]=(0,u.useState)(null),j=!!m,Z=()=>{p(null)},S=async e=>{let n=e.id;await (0,g.deleteData)("".concat(l),n),"function"==typeof x&&x(!0)},v=(0,u.useRef)(!0);return(0,u.useEffect)(()=>(v.current=!0,()=>{v.current=!1}),[]),(0,t.jsx)(a.Z,{title:"X\xf3a bản ghi?",children:(0,t.jsxs)(s.Z,{children:[(0,t.jsx)(c.Z,{"aria-describedby":null==n?void 0:n.id,className:"tableActionBtn deleteBtn",onClick:e=>{p(e.currentTarget)},"data-row-id":null==n?void 0:n.id,size:"small",children:(0,t.jsx)(i.Z,{})}),(0,t.jsx)(o.ZP,{id:j?null==n?void 0:n.id:void 0,open:j,anchorEl:m,onClose:Z,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:(0,t.jsxs)(h.Z,{severity:"warning",children:["X\xf3a bản ghi n\xe0y ?",(0,t.jsx)(s.Z,{sx:{justifyContent:"center",paddingTop:4,width:"100%"},children:(0,t.jsxs)(r.Z,{variant:"outlined","aria-label":"outlined button group",children:[(0,t.jsx)(d.Z,{size:"small",onClick:()=>{m&&n&&S(n),p(null)},children:"Đ\xfang"}),(0,t.jsx)(d.Z,{color:"error",size:"small",onClick:Z,children:"Hủy"})]})})]})})]})})}},27776:function(e,l,n){"use strict";var t=n(85893),i=n(67294),a=n(84166),s=n(88196),c=n(92365),o=n(40110);l.Z=e=>{let{children:l}=e,[n,h]=(0,i.useState)(null),[r,d]=(0,i.useState)(null),[u,g]=(0,i.useState)(!1),x=()=>{h(null),d(null),g(!1)};return(0,t.jsxs)(a.Z,{children:[l((e,l)=>{h(e),d(l),g(!0)},x),(0,t.jsx)(s.Z,{open:u,onClose:x,children:n&&(0,t.jsxs)(a.Z,{children:[(0,t.jsx)(c.Z,{sx:{textAlign:"center",textTransform:"uppercase"},children:r}),(0,t.jsx)(o.Z,{children:n})]})})]})}},82431:function(e,l,n){"use strict";var t=n(85893),i=n(51015),a=n(84105);l.Z=e=>{let{tableId:l,filename:n}=e;return(0,t.jsx)(i.Z,{onClick:()=>{!function(e,l){let n=document.getElementById(e),t=a.P6.table_to_sheet(n),i=[],s=[];for(let e=0;e<n.rows.length;++e){let l=n.rows[e];for(let n=0;n<l.cells.length;++n){let t=l.cells[n],a=t.getAttribute("colspan"),c=t.getAttribute("rowspan");a=a?parseInt(a,10):1,c=c?parseInt(c,10):1,(a>1||c>1)&&i.push({s:{r:e,c:n},e:{r:e+c-1,c:n+a-1}}),s[n]>0&&(--s[n],--n)}for(let e=0;e<l.cells.length;++e){let n=l.cells[e].getAttribute("rowspan");(n=n?parseInt(n,10):1)>1&&(s[e]=n-1)}}i.length>0&&(t["!merges"]||(t["!merges"]=[]),t["!merges"].push(...i));for(let e=0;e<n.rows.length;++e)for(let l=0;l<n.rows[e].cells.length;++l){let i=n.rows[e].cells[l],s=i.innerText;s=s.replace(/\n+/g,"\n"),i.closest("tbody")&&(t[a.P6.encode_cell({r:e,c:l})]={v:s,t:"s"})}let c=a.P6.book_new();a.P6.book_append_sheet(c,t,"Sheet1"),a.NC(c,"".concat(l,".xls"))}(l,n)},variant:"outlined",size:"small",fullWidth:!0,color:"primary",children:"Xuất Excel"})}},49767:function(e,l,n){"use strict";var t=n(85893),i=n(68573),a=n(96788);l.Z=()=>(0,t.jsxs)(i.ZP,{className:"_space_between",sx:{mt:5},children:[(0,t.jsxs)(i.ZP,{children:[(0,t.jsx)(a.Z,{component:"p",variant:"caption",children:"Nơi nhận"}),(0,t.jsx)(a.Z,{component:"p",variant:"caption",children:"- Ban Gi\xe1m đốc sở"}),(0,t.jsx)(a.Z,{component:"p",variant:"caption",children:"- Lưu:VT; TNN, KS&KTTV; VP, 10b"})]}),(0,t.jsx)(i.ZP,{children:(0,t.jsx)(a.Z,{className:"font-weight-bold",component:"p",variant:"body1",children:"Người thống k\xea"})})]})},80113:function(e,l,n){"use strict";var t=n(85893),i=n(68573),a=n(96788);l.Z=()=>{let e=new Date,l=e.getDate(),n=e.getMonth()+1,s=e.getFullYear();return(0,t.jsxs)(i.ZP,{className:"_space_between",container:!0,sx:{my:5,display:"flex"},children:[(0,t.jsxs)(i.ZP,{className:"_text_center",item:!0,xs:4,children:[(0,t.jsx)(a.Z,{component:"p",variant:"caption",children:"UBND Tỉnh Quảng Ng\xe3i"}),(0,t.jsx)(a.Z,{component:"p",className:"font-weight-bold ",variant:"caption",fontSize:14,children:"SỞ T\xc0I NGUY\xcaN V\xc0 M\xd4I TRƯỜNG"}),(0,t.jsx)(a.Z,{component:"p",variant:"caption",children:"Số:.........../SNNMT-TNN-KS&KTTV"})]}),(0,t.jsxs)(i.ZP,{className:"_text_center",item:!0,xs:5,children:[(0,t.jsx)(a.Z,{component:"p",variant:"caption",children:"CỘNG HO\xc0 X\xc3 HỘI CHỦ NGHĨA VIỆT NAM"}),(0,t.jsx)(a.Z,{className:"font-weight-bold ",component:"p",variant:"caption",children:"Độc lập - Tự do - Hạnh ph\xfac"}),(0,t.jsxs)(a.Z,{className:"italicText",component:"p",variant:"caption",children:["Qu\xe3ng Ng\xe3i,ng\xe0y ",l,",th\xe1ng ",n," ,năm",s]})]})]})}},30342:function(e,l,n){"use strict";n.r(l),n.d(l,{default:function(){return w}});var t=n(85893),i=n(93454),a=n(68573),s=n(96788),c=n(88539),o=n(40492),h=n(51015),r=n(60990),d=n(80113),u=n(49767),g=n(64577),x=n(67294),m=n(35376),p=n(39892),j=n(448),Z=n(38855),S=n(82431),v=n(68963),f=n(55201),b=n(53839),N=n(96727),y=n(97182),T=n(27776);let C=e=>{let{data:l,setPostSuccess:n,closeDialogs:i}=e,[s,c]=(0,x.useState)({id:(null==l?void 0:l.id)||0,maSong:(null==l?void 0:l.maSong)||"",capSong:(null==l?void 0:l.capSong)||"",tenSongSuoi:(null==l?void 0:l.tenSongSuoi)||"",chayRa:(null==l?void 0:l.chayRa)||"",chieuDai:(null==l?void 0:l.chieuDai)||0,dienTich:(null==l?void 0:l.dienTich)||0,tinh:(null==l?void 0:l.tinh)||"",thuocLVS:(null==l?void 0:l.thuocLVS)||"",loaiSongSuoi:(null==l?void 0:l.loaiSongSuoi)||"",ghiChu:(null==l?void 0:l.ghiChu)||""}),[d,u]=(0,x.useState)(!1),m=e=>l=>{c({...s,[e]:l})},p=async e=>{e.preventDefault(),(async()=>{u(!0);try{await (0,g.saveData)("NN_LuuVucSong/luu",s)&&(c({id:0,maSong:"",capSong:"",tenSongSuoi:"",chayRa:"",chieuDai:0,dienTich:0,tinh:"",thuocLVS:"",loaiSongSuoi:"",ghiChu:""}),"function"==typeof n&&n(!0),i())}catch(e){console.log(e)}finally{u(!1)}})()};return(0,t.jsxs)(r.Z,{children:[(0,t.jsxs)(a.ZP,{container:!0,spacing:3,children:[(0,t.jsx)(a.ZP,{item:!0,xs:12,md:6,sm:12,children:(0,t.jsx)(o.Z,{size:"small",type:"text",label:"M\xe3 s\xf4ng",fullWidth:!0,placeholder:"",value:s.maSong||"",onChange:e=>m("maSong")(e.target.value)})}),(0,t.jsx)(a.ZP,{item:!0,xs:12,md:6,sm:12,children:(0,t.jsx)(o.Z,{size:"small",type:"text",label:"Cấp s\xf4ng",fullWidth:!0,placeholder:"",value:s.capSong||"",onChange:e=>m("capSong")(e.target.value)})}),(0,t.jsx)(a.ZP,{item:!0,xs:12,md:6,sm:12,children:(0,t.jsx)(o.Z,{size:"small",type:"text",label:"T\xean s\xf4ng, suối",fullWidth:!0,placeholder:"",value:s.tenSongSuoi||"",onChange:e=>m("tenSongSuoi")(e.target.value)})}),(0,t.jsx)(a.ZP,{item:!0,xs:12,md:6,sm:12,children:(0,t.jsx)(o.Z,{size:"small",type:"text",label:"Chảy ra",fullWidth:!0,placeholder:"",value:s.chayRa||"",onChange:e=>m("chayRa")(e.target.value)})}),(0,t.jsx)(a.ZP,{item:!0,xs:12,md:6,sm:12,children:(0,t.jsx)(o.Z,{size:"small",type:"text",label:"Chiều d\xe0i",fullWidth:!0,placeholder:"",value:s.chieuDai||"",onChange:e=>m("chieuDai")(e.target.value)})}),(0,t.jsx)(a.ZP,{item:!0,xs:12,md:6,sm:12,children:(0,t.jsx)(o.Z,{size:"small",type:"text",label:"Diện t\xedch",fullWidth:!0,placeholder:"",value:s.dienTich||"",onChange:e=>m("dienTich")(e.target.value)})}),(0,t.jsx)(a.ZP,{item:!0,xs:12,md:6,sm:12,children:(0,t.jsx)(o.Z,{size:"small",type:"text",label:"Tỉnh/Th\xe0nh phố",fullWidth:!0,placeholder:"",value:s.tinh||"",onChange:e=>m("tinh")(e.target.value)})}),(0,t.jsx)(a.ZP,{item:!0,xs:12,md:6,sm:12,children:(0,t.jsx)(o.Z,{size:"small",type:"text",label:"Thuộc lưu vực s\xf4ng",fullWidth:!0,placeholder:"",value:s.thuocLVS||"",onChange:e=>m("thuocLVS")(e.target.value)})}),(0,t.jsx)(a.ZP,{item:!0,xs:12,md:6,sm:12,children:(0,t.jsx)(o.Z,{size:"small",type:"text",label:"Loại s\xf4ng suối",fullWidth:!0,placeholder:"",value:s.loaiSongSuoi||"",onChange:e=>m("loaiSongSuoi")(e.target.value)})}),(0,t.jsx)(a.ZP,{item:!0,xs:12,md:6,sm:12,children:(0,t.jsx)(o.Z,{size:"small",type:"text",label:"Ghi ch\xfa",fullWidth:!0,placeholder:"",value:s.ghiChu||"",onChange:e=>m("ghiChu")(e.target.value)})})]}),(0,t.jsxs)(N.Z,{sx:{p:0,mt:5},children:[(0,t.jsx)(h.Z,{size:"small",onClick:()=>{c({id:0,maSong:"",capSong:"",tenSongSuoi:"",chayRa:"",chieuDai:0,dienTich:0,tinh:"",thuocLVS:"",loaiSongSuoi:"",ghiChu:""}),i()},className:"btn cancleBtn",children:"Hủy"}),(0,t.jsxs)(h.Z,{disabled:d,className:"btn saveBtn",onClick:p,children:[" ",d?(0,t.jsx)(y.Z,{color:"inherit",size:20}):(0,t.jsx)(v.Z,{})," \xa0 Lưu"," "]})]})]})};var P=e=>{let{data:l,setPostSuccess:n,isEdit:i}=e,a=i?"Thay đổi th\xf4ng tin lưu vực s\xf4ng":"Th\xeam th\xf4ng tư lưu vực s\xf4ng";return(0,t.jsx)(T.Z,{children:(e,s)=>(0,t.jsx)(r.Z,{children:i?(0,t.jsx)(h.Z,{children:(0,t.jsx)(f.Z,{className:"tableActionBtn",onClick:()=>e((0,t.jsx)(C,{data:l,setPostSuccess:n,closeDialogs:s}),a)})}):(0,t.jsx)(h.Z,{variant:"outlined",size:"small",fullWidth:!0,startIcon:(0,t.jsx)(b.Z,{}),onClick:()=>e((0,t.jsx)(C,{data:l,closeDialogs:s,setPostSuccess:n}),a),children:"Th\xeam"})})})},w=()=>{let[e,l]=(0,x.useState)([]),[n,v]=(0,x.useState)(!1),[f,b]=(0,x.useState)(!1),N=()=>{b(e=>!e)};return(0,x.useEffect)(()=>{(async function(){v(!0),await (0,g.getData)("NN_LuuVucSong/danh-sach").then(e=>{l(e)}).catch(e=>{console.log(e)}).finally(()=>{v(!1)})})()},[f]),(0,t.jsxs)(i.Z,{sx:{p:8},children:[(0,t.jsx)(d.Z,{}),(0,t.jsx)(a.ZP,{className:"_text_center",children:(0,t.jsx)(s.Z,{className:"font-weight-bold ",variant:"h6",children:"TH\xd4NG TIN DỮ LIỆU VỀ LƯU VỰC S\xd4NG TỈNH QUẢNG NG\xc3I"})}),n?(0,t.jsx)(m.Z,{}):(0,t.jsxs)(a.ZP,{className:"_text_center",sx:{mt:3},children:[(0,t.jsx)(c.Z,{variant:"dense",children:(0,t.jsxs)(a.ZP,{container:!0,spacing:2,sx:{paddingY:3},className:"_flexEnd ",children:[(0,t.jsx)(a.ZP,{item:!0,xs:12,md:3,py:0,children:(0,t.jsx)(o.Z,{sx:{p:0},size:"small",fullWidth:!0,variant:"outlined",placeholder:"T\xean s\xf4ng, suối..."})}),(0,t.jsx)(a.ZP,{item:!0,xs:6,md:1.5,py:0,children:(0,t.jsx)(h.Z,{variant:"outlined",size:"small",fullWidth:!0,sx:{borderRadius:0,whiteSpace:"nowrap"},startIcon:(0,t.jsx)(Z.Z,{}),children:"T\xecm kiếm"})}),(0,t.jsx)(a.ZP,{item:!0,xs:6,md:1.5,py:0,children:(0,t.jsx)(S.Z,{tableId:"nn-luuvucsong",filename:"nn-luuvucsong"})}),(0,t.jsx)(a.ZP,{item:!0,xs:6,md:1.5,py:0,children:(0,t.jsx)(P,{isEdit:!1,setPostSuccess:N})})]})}),(0,t.jsx)(p.Z,{columns:[{id:"stt",label:"STT"},{id:"#",label:"M\xe3 s\xf4ng",align:"left",minWidth:100,children:[{id:"maSong1",label:"",align:"left"},{id:"maSong2",label:"",align:"left"},{id:"maSong3",label:"",align:"left"},{id:"maSong4",label:"",align:"left"},{id:"maSong5",label:"",align:"left"}]},{id:"capSong",label:"Cấp s\xf4ng",align:"left"},{id:"tenSongSuoi",label:"T\xean s\xf4ng",align:"left",minWidth:150},{id:"chayRa",label:"Chảy ra",align:"left",minWidth:150},{id:"chieuDai",label:"Chiều d\xe0i (km)",align:"left"},{id:"dienTich",label:"Diện t\xedch lưu vực (km2)",align:"left"},{id:"tinh",label:"Tỉnh/ Th\xe0nh phố",align:"left",minWidth:150},{id:"thuocLVS",label:"Thuộc lưu vực s\xf4ng",align:"left"},{id:"loaiSongSuoi",label:"Loại s\xf4ng, suối",align:"left"},{id:"ghiChu",label:"Ghi ch\xfa",align:"left"},{align:"center",id:"actions",label:"Thao t\xe1c",minWidth:150}],rows:e,loading:n,id:"nn-luuvucsong",pagination:!0,actions:e=>(0,t.jsxs)(r.Z,{children:[(0,t.jsx)(P,{isEdit:!0,data:e,setPostSuccess:N}),(0,t.jsx)(j.Z,{url:"NN_LuuVucSong",data:e,setPostSuccess:N})]})})]}),(0,t.jsx)(u.Z,{})]})}},20067:function(){},72061:function(){}}]);