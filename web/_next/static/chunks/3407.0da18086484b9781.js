"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3407],{23407:function(e,l,i){i.r(l),i.d(l,{default:function(){return A}});var n=i(85893),t=i(67294),s=i(60990),a=i(21038),d=i(52857),c=i(93454),r=i(96788),h=i(68573),x=i(40492),o=i(95611),u=i(6897),m=i(94143),j=i(29346),Z=i(15972),b=i(51015),g=i(39892),C=i(35299),p=i(62987),f=i(4145),v=i(29291),I=i(69200),T=i(87643),k=i(17071),S=i(53839),W=i(66417),y=i(83857),D=i(55782),P=i(83063),z=i(88196),N=i(92365),w=i(40110),K=i(96727);let X=[{id:"stt",label:"STT",minWidth:60,align:"left"},{id:"tenDiemCanh",label:"T\xean điểm canh",minWidth:150,align:"left"},{id:"tenTuyenDe",label:"Tuyến đ\xea",minWidth:150,align:"left"},{id:"tenDoanDe",label:"Đoạn đ\xea",minWidth:150,align:"left"},{id:"viTriKM",label:"Vị tr\xed Km",minWidth:100,align:"left"},{id:"kieuNhaTruc",label:"Kiểu nh\xe0 trực",minWidth:150,align:"left"},{id:"soNguoiTruc",label:"Số người trực",minWidth:120,align:"center",format:e=>e||"-"},{id:"moTa",label:"M\xf4 tả",minWidth:200,align:"left"},{id:"actions",label:"Thao t\xe1c",minWidth:100,align:"center",pinned:"right"}],_=()=>{let[e,l]=(0,t.useState)(""),[i,_]=(0,t.useState)(""),[A,H]=(0,t.useState)(""),{filteredDCanhList:M,handleDCanhClick:R,setFocusedId:V,handleDataChange:E}=(0,v.Y)(),[L,B]=(0,t.useState)(!1),[F,G]=(0,t.useState)(null),[Y,q]=(0,t.useState)(null),[J,O]=(0,t.useState)(!1),[Q]=(0,t.useState)(!1),[U]=(0,t.useState)(0),[$,ee]=(0,t.useState)(null),el=(0,t.useCallback)(e=>{if(!(null==e?void 0:e.id))return;let l=e.id===$?null:e.id;ee(l),V(l)},[$,V]),ei=e=>(0,n.jsxs)(s.Z,{sx:{display:"flex",gap:1},children:[(0,n.jsx)(a.Z,{title:"Xem tr\xean bản đồ",children:(0,n.jsx)(d.Z,{size:"small",color:$===e.id?"success":"default",onClick:()=>el(e),children:(0,n.jsx)(W.Z,{fontSize:"small"})})}),(0,n.jsx)(a.Z,{title:"Chỉnh sửa",children:(0,n.jsx)(d.Z,{size:"small",color:"primary",onClick:()=>{G(e),B(!0)},children:(0,n.jsx)(k.Z,{fontSize:"small"})})}),(0,n.jsx)(a.Z,{title:"X\xf3a",children:(0,n.jsx)(d.Z,{size:"small",color:"error",onClick:()=>q(e),children:(0,n.jsx)(y.Z,{fontSize:"small"})})})]}),en=async()=>{(null==Y?void 0:Y.id)&&(O(!0),await P.a.deleteDiemCanhDe(Y.id),O(!1),q(null),E&&E())};return(0,n.jsxs)(s.Z,{children:[(0,n.jsx)(c.Z,{sx:{p:2,mb:3},children:(0,n.jsx)(r.Z,{variant:"h5",children:"HIỆN TRẠNG ĐIỂM CANH Đ\xca TRƯỚC LŨ"})}),(0,n.jsx)(c.Z,{sx:{p:2,mb:3,height:"45vh"},children:(0,n.jsx)(h.ZP,{container:!0,spacing:2,alignItems:"center",justifyContent:"center",style:{height:"100%"},children:(0,n.jsx)(h.ZP,{item:!0,xs:12,style:{height:"100%",position:"relative"},children:(0,n.jsx)(I.default,{boundaryFile:"",children:(0,n.jsx)(T.Z,{data:M,onDCanhClick:R})})})})}),(0,n.jsx)(c.Z,{sx:{p:2,mb:2},children:(0,n.jsxs)(h.ZP,{container:!0,spacing:2,alignItems:"center",children:[(0,n.jsx)(h.ZP,{item:!0,xs:12,md:2,children:(0,n.jsx)(x.Z,{size:"small",fullWidth:!0,label:"T\xecm kiếm điểm canh đ\xea",variant:"outlined",value:e,onChange:e=>{l(e.target.value)},InputProps:{startAdornment:(0,n.jsx)(o.Z,{position:"start",children:(0,n.jsx)(C.Z,{})})}})}),(0,n.jsx)(h.ZP,{item:!0,xs:12,md:2,children:(0,n.jsxs)(u.Z,{fullWidth:!0,children:[(0,n.jsx)(m.Z,{id:"loai-de-label",children:"Tuyến đ\xea"}),(0,n.jsxs)(j.Z,{size:"small",labelId:"loai-de-label",value:i,label:"Tuyến đ\xea",onChange:e=>{_(e.target.value)},children:[(0,n.jsx)(Z.Z,{value:"",children:(0,n.jsx)("em",{children:"Tất cả"})}),[{id:1,ten:"Đ\xea s\xf4ng"},{id:2,ten:"Đ\xea biển"},{id:3,ten:"Đ\xea bao"}].map(e=>(0,n.jsx)(Z.Z,{value:e.ten,children:e.ten},e.id))]})]})}),(0,n.jsx)(h.ZP,{item:!0,xs:12,md:2,children:(0,n.jsxs)(u.Z,{fullWidth:!0,children:[(0,n.jsx)(m.Z,{id:"cap-de-label",children:"Kết cấu"}),(0,n.jsxs)(j.Z,{size:"small",labelId:"cap-de-label",value:A,label:"Kết cấu",onChange:e=>{H(e.target.value)},children:[(0,n.jsx)(Z.Z,{value:"",children:(0,n.jsx)("em",{children:"Tất cả"})}),[{id:1,ten:"Đặc biệt"},{id:2,ten:"Cấp I"},{id:3,ten:"Cấp II"},{id:4,ten:"Cấp III"},{id:5,ten:"Cấp IV"},{id:6,ten:"Cấp V"}].map(e=>(0,n.jsx)(Z.Z,{value:e.ten,children:e.ten},e.id))]})]})}),(0,n.jsx)(h.ZP,{item:!0,xs:6,md:1,children:(0,n.jsx)(b.Z,{variant:"contained",fullWidth:!0,startIcon:(0,n.jsx)(p.Z,{}),children:"Lọc"})}),(0,n.jsx)(h.ZP,{item:!0,xs:6,md:1,children:(0,n.jsx)(b.Z,{variant:"outlined",fullWidth:!0,onClick:()=>{l(""),_(""),H("")},startIcon:(0,n.jsx)(f.Z,{}),children:"X\xf3a"})}),(0,n.jsx)(h.ZP,{item:!0,xs:12,md:1,children:(0,n.jsx)(b.Z,{variant:"outlined",fullWidth:!0,onClick:()=>B(!0),startIcon:(0,n.jsx)(S.Z,{}),children:"Th\xeam mới"})})]})}),(0,n.jsx)(c.Z,{sx:{p:2},children:(0,n.jsx)(g.Z,{columns:X,rows:M,loading:Q,pagination:!0,totalItems:U,actions:e=>ei(e),selectedRowId:$})}),(0,n.jsx)(D.Z,{open:L,onClose:()=>{B(!1),G(null)},onSaveComplete:()=>{B(!1),G(null),E&&E()},editDiemCanhDe:F}),(0,n.jsxs)(z.Z,{open:!!Y,onClose:()=>q(null),children:[(0,n.jsx)(N.Z,{children:"X\xe1c nhận x\xf3a điểm canh đ\xea"}),(0,n.jsxs)(w.Z,{children:["Bạn c\xf3 chắc chắn muốn x\xf3a điểm canh đ\xea ",(0,n.jsx)("b",{children:null==Y?void 0:Y.tenDiemCanh}),"?"]}),(0,n.jsxs)(K.Z,{children:[(0,n.jsx)(b.Z,{onClick:()=>q(null),disabled:J,children:"Hủy"}),(0,n.jsx)(b.Z,{onClick:en,color:"error",disabled:J,children:J?"Đang x\xf3a...":"X\xf3a"})]})]}),(0,n.jsx)(s.Z,{sx:{mb:2,textAlign:"right"},children:(0,n.jsx)(b.Z,{variant:"contained",onClick:()=>{G(null),B(!0)},children:"Th\xeam mới điểm canh đ\xea"})})]})};var A=()=>(0,n.jsx)(v.x,{children:(0,n.jsx)(_,{})})}}]);