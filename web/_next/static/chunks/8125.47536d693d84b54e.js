"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8125],{69200:function(e,t,r){r.r(t),r.d(t,{AutoBounds:function(){return C},BaseGeoJSON:function(){return L},MapStatePreserver:function(){return S},default:function(){return T},defaultDeConfig:function(){return I}});var a=r(85893),n=r(67294),o=r(39153),i=r(32342),c=r(84867),l=r(5715),u=r(26467),h=r(60990),s=r(93454),d=r(97182),g=r(96788),y=r(45243),p=r.n(y);r(53183);var m=r(11163),v=r(20577),f=r(32604);let D=p().divIcon({className:"custom-location-marker",html:'<div class="location-marker-inner"></div>',iconSize:[16,16],iconAnchor:[8,16]});var w=()=>{let[e,t]=(0,n.useState)(null),r=(0,o.Sx)();return((0,n.useEffect)(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(e=>{let{latitude:r,longitude:a}=e.coords;t([r,a])},e=>{console.error("Kh\xf4ng lấy được vị tr\xed:",e)})},[r]),e)?(0,a.jsx)(v.J,{position:e,icon:D,children:(0,a.jsx)(f.G,{children:"Vị tr\xed hiện tại của bạn"})}):null};let{BaseLayer:k}=i.LayersControl,L=e=>{let{data:t,style:r={color:"#3388ff",weight:2,opacity:1,fillOpacity:.2},interactive:n=!1,onEachFeature:o}=e;return(0,a.jsx)(c.Q,{data:t,style:r,interactive:n,onEachFeature:o})},C=e=>{let{geojsonData:t,markers:r=[],fitOnce:a=!0}=e,i=(0,o.Sx)(),c=n.useRef(!1);return(0,n.useEffect)(()=>{if(a&&c.current||!t||0===t.length)return;let e=p().latLngBounds([]);t.forEach(t=>{if(t&&t.features){let r=p().geoJSON(t);e.extend(r.getBounds())}}),r&&r.length>0&&r.forEach(t=>{t.position&&e.extend(t.position)}),e.isValid()&&(i.fitBounds(e,{padding:[50,50]}),c.current=!0)},[i,t,r,a]),null},S=()=>{let e=(0,o.Sx)(),[t]=n.useState({zoom:e.getZoom(),center:e.getCenter()}),r=n.useRef({zoom:t.zoom,center:t.center,isMoving:!1});return n.useEffect(()=>{let t=()=>{r.current={zoom:e.getZoom(),center:e.getCenter(),isMoving:!1}},a=()=>{r.current.isMoving=!0},n=()=>{r.current.isMoving=!1,t()};return e.on("zoomend",t),e.on("movestart",a),e.on("moveend",n),()=>{e.off("zoomend",t),e.off("movestart",a),e.off("moveend",n)}},[e]),n.useEffect(()=>{if(!r.current.isMoving){let{zoom:t,center:a}=r.current;e.getZoom()===t&&e.getCenter().equals(a)||e.setView(a,t,{animate:!1})}}),null},I={bingKey:"AuhiCJHlGzhg93IqUH_oCpl_-ZUrIE6SPftlyGYUvr9Amx5nzA-WqGcPquyFZl4L",mapCenter:[20.65,106.1],mapZoom:10,maxBounds:[[20,104.8],[21.2,106.85]]};var T=e=>{let{children:t,config:r,loading:o}=e,y={...I,...r},[v,f]=(0,n.useState)(null),[D,L]=(0,n.useState)(null),[C,T]=(0,n.useState)(!0),{basePath:x}=(0,m.useRouter)(),[b]=(0,n.useState)(!0);return(0,n.useEffect)(()=>{let e=async()=>{try{let e=await fetch("".concat(x,"/geojson/phuongxa-hye.geojson")),t=await e.json();b&&L(t)}catch(e){console.error("Kh\xf4ng thể tải phuongxa-hye.geojson:",e)}};(async()=>{T(!0);try{let e=await fetch("".concat(x,"/geojson/hye.geojson")),t=await e.json();f(t)}catch(e){console.error("Kh\xf4ng thể tải boundary geojson:",e)}finally{T(!1)}})(),e()},[x]),(0,a.jsx)(h.Z,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:(0,a.jsxs)(s.Z,{elevation:3,sx:{flex:1,position:"relative",overflow:"hidden",borderRadius:"8px"},children:[(C||o)&&(0,a.jsxs)(h.Z,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"rgba(255,255,255,0.7)",zIndex:1500},children:[(0,a.jsx)(d.Z,{color:"error"}),(0,a.jsx)(g.Z,{variant:"body2",sx:{ml:2},children:"Đang tải dữ liệu bản đồ..."})]}),(0,a.jsxs)(l.h,{center:y.mapCenter,zoom:y.mapZoom,minZoom:10,maxBounds:y.maxBounds,maxBoundsViscosity:1,style:{height:"100%",width:"100%"},attributionControl:!1,children:[(0,a.jsxs)(i.LayersControl,{position:"bottomright",children:[(0,a.jsx)(k,{name:"Bản đồ h\xe0nh ch\xednh",children:(0,a.jsx)(u.I,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"})}),(0,a.jsx)(k,{checked:!0,name:"Bản đồ vệ tinh",children:(0,a.jsx)(u.I,{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",attribution:"Tiles \xa9 Esri"})}),(0,a.jsx)(k,{name:"Bản đồ nền x\xe1m",children:(0,a.jsx)(u.I,{url:"https://cartodb-basemaps-{s}.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png",attribution:"\xa9 CartoDB"})})]}),v&&(0,a.jsx)(c.Q,{data:v,style:{color:"#ffffffff",weight:2,fill:!1,fillOpacity:.25},interactive:!1}),D&&(0,a.jsx)(c.Q,{data:D,style:{color:"#ffffff83",weight:1.2,dashArray:"3, 3"},interactive:!0,onEachFeature:(e,t)=>{if(t.on({mouseover:e=>{let t=e.target;t.setStyle({weight:2,opacity:1,dashArray:"2, 2",color:"#0088ff"}),p().Browser.ie||p().Browser.opera||p().Browser.edge||t.bringToFront()},mouseout:e=>{e.target.setStyle({color:"#ffffff83",weight:1.2,opacity:.8,fillOpacity:.01,dashArray:"3, 3"})}}),e.properties&&e.properties.ten_xa){let r=(e=>{try{if(e.includes("\xc3"))return decodeURIComponent(escape(e));return e}catch(t){return console.error("Lỗi giải m\xe3 t\xean x\xe3:",t),e}})(e.properties.ten_xa),a=t.getBounds().getCenter();t.bindTooltip(r,{permanent:!0,direction:"center",className:"phuong-xa-tooltip map-label",opacity:1,offset:[0,0]}),t.on("tooltipopen",function(e){try{let t=e.tooltip;t&&"function"==typeof t.setLatLng&&t.setLatLng(a)}catch(e){console.error("Lỗi khi định vị tooltip:",e)}})}}}),t,(0,a.jsx)(w,{}),(0,a.jsx)(S,{})]})]})})}},29291:function(e,t,r){r.d(t,{Y:function(){return m},x:function(){return v}});var a=r(85893),n=r(67294),o=r(18708),i=r(72744),c=r(16855),l=r(61756),u=r(92893),h=r(48568),s=r(39123),d=r(83063),g=r(97562),y=r(36280);let p=(0,n.createContext)(void 0),m=()=>{let e=(0,n.useContext)(p);if(!e)throw Error("useMapOverviewContext must be used within MapOverviewProvider");return e},v=e=>{let{children:t}=e,[r,m]=(0,n.useState)([]),[v,f]=(0,n.useState)([]),[D,w]=(0,n.useState)([]),[k,L]=(0,n.useState)(!1),[C,S]=(0,n.useState)([]),[I,T]=(0,n.useState)([]),[x,b]=(0,n.useState)([]),[E,N]=(0,n.useState)([]),[z,K]=(0,n.useState)([]),[A,B]=(0,n.useState)([]),[M,j]=(0,n.useState)([]),[O,P]=(0,n.useState)(null),[V,_]=(0,n.useState)(!1),[q,H]=(0,n.useState)(!0),[U,J]=(0,n.useState)(0),[Q,Z]=(0,n.useState)({}),[F,G]=(0,n.useState)([]),[X,R]=(0,n.useState)({}),[Y,W]=(0,n.useState)(null),[$,ee]=(0,n.useState)(!1),[et,er]=(0,n.useState)(null),[ea,en]=(0,n.useState)(null);function eo(e,t,r,a){return 0===t.length?[]:e.filter(e=>e.maLoaiCongTrinh&&t.includes(e.maLoaiCongTrinh)).map(e=>{let t=a(e);if(e.maLoaiCongTrinh&&r.length>0){for(let a of r)for(let r of a.children)if(r.data&&r.data.maLoai===e.maLoaiCongTrinh){t=r.color;break}}return{...e,color:t}})}(0,n.useEffect)(()=>{let e=async()=>{try{let e=await i.M.getAllKe({pageNumber:1,pageSize:1e3},!1);f(e.items||[])}catch(e){console.error("Kh\xf4ng thể tải dữ liệu k\xe8:",e)}},t=async()=>{try{let e=await c.f.getAllCotKM({pageNumber:1,pageSize:1e3},!1);w(e.items||[])}catch(e){console.error("Kh\xf4ng thể tải dữ liệu cột chỉ mục:",e)}},r=async()=>{try{let e=await h.s.getAllCuaKhau({pageNumber:1,pageSize:1e3});S(e.items||[])}catch(e){console.error("Kh\xf4ng thể tải dữ liệu cửa khẩu:",e)}},a=async()=>{try{let e=await s.m.getAllCong({pageNumber:1,pageSize:1e3});N(e.items||[])}catch(e){console.error("Kh\xf4ng thể tải dữ liệu cống:",e)}},n=async()=>{try{let e=await l.d.getAllKhoVatTu({pageNumber:1,pageSize:1e3},!1);T(e.items||[])}catch(e){console.error("Kh\xf4ng thể tải dữ liệu kho vật tư:",e)}},u=async()=>{try{let e=await d.a.getAllDiemCanhDe({pageNumber:1,pageSize:1e3},!1);b(e.items||[])}catch(e){console.error("Kh\xf4ng thể tải dữ liệu điếm canh đ\xea:",e)}},p=async()=>{try{let e=await g.H.getAllSuCoDe({pageNumber:1,pageSize:1e3},!1);K(e.items||[])}catch(e){console.error("Kh\xf4ng thể tải dữ liệu sự cố đ\xea:",e)}},v=async()=>{try{let e=await y.Z.getAllHatQlyDe({pageNumber:1,pageSize:1e3},!1);B(e.items||[])}catch(e){console.error("Kh\xf4ng thể tải dữ liệu hạt quản l\xfd đ\xea:",e)}};(async()=>{try{let e=await o.I.getAllDoanDe({pageNumber:1,pageSize:1e3},!1);m(e.items||[])}catch(e){console.error("Kh\xf4ng thể tải dữ liệu đoạn đ\xea:",e)}})(),e(),t(),r(),a(),n(),u(),p(),v()},[U]),(0,n.useEffect)(()=>{(async()=>{try{let e=await o.I.getLoaiCongTrinhTree();if(e&&e.length>0){let t=e.map(e=>{let t=e.children||[],r=e.tenLoai||"",a="\uD83C\uDFD7️";return r.toLowerCase().includes("đ\xea")||r.toLowerCase().includes("de")?a="\uD83C\uDFD4️":r.toLowerCase().includes("k\xe8")||r.toLowerCase().includes("ke")?a="\uD83D\uDDFB":(r.toLowerCase().includes("cống")||r.toLowerCase().includes("cong"))&&(a="\uD83C\uDF09"),{id:e.id,label:e.tenLoai||"Kh\xf4ng c\xf3 t\xean",icon:e.icon||a,data:{...e,color:e.maMau},children:t.map(e=>{let t=e.tenLoai||"Kh\xf4ng c\xf3 t\xean",r=e.maMau||"#1E88E5";return{label:t,color:r,id:e.id,data:e}})}});t.push({id:"SUCO_GROUP",label:"Sự cố đ\xea",icon:"\uD83D\uDEA8",data:{maLoai:"SU_CO",color:"#FF0000"},children:[{id:"SU_CO",label:"Sự cố đ\xea",color:"#FF0000",icon:"\uD83D\uDEA8",data:{maLoai:"SU_CO"}}]}),j(t);let r=[];t.forEach(e=>{(e.children||[]).forEach(e=>{var t;(null===(t=e.data)||void 0===t?void 0:t.maLoai)&&r.push(e.data.maLoai),e.children&&e.children.length>0&&e.children.forEach(e=>{var t;(null===(t=e.data)||void 0===t?void 0:t.maLoai)&&r.push(e.data.maLoai)})})});let a=Array.from(new Set(r));a.length>0&&G(e=>e&&e.length>0?e:a)}}catch(e){console.error("Lỗi khi tải danh s\xe1ch loại c\xf4ng tr\xecnh:",e)}})()},[U]);let ei=(0,n.useMemo)(()=>eo(r,F,M,e=>(0,u.dI)(e.maLoaiCongTrinh,M)),[r,F,M]),ec=(0,n.useMemo)(()=>eo(v,F,M,e=>(0,u.dI)(e.maLoaiCongTrinh,M)),[v,F,M]),el=(0,n.useMemo)(()=>eo(D,F,M,e=>(0,u.dI)(e.maLoaiCongTrinh,M)),[D,F,M]),eu=(0,n.useMemo)(()=>eo(C,F,M,e=>(0,u.dI)(e.maLoaiCongTrinh,M)),[C,F,M]),eh=(0,n.useMemo)(()=>eo(I,F,M,e=>(0,u.dI)(e.maLoaiCongTrinh,M)),[I,F,M]),es=(0,n.useMemo)(()=>eo(x,F,M,e=>(0,u.dI)(e.maLoaiCongTrinh,M)),[x,F,M]),ed=(0,n.useMemo)(()=>eo(E,F,M,e=>(0,u.dI)(e.maLoaiCongTrinh,M)),[E,F,M]),eg=(0,n.useMemo)(()=>F.includes("SU_CO")?z.map(e=>({...e,maLoaiCongTrinh:"SU_CO",color:"#FF0000"})):[],[z,F]),ey=(0,n.useMemo)(()=>F.length>0&&!F.includes("HAT_QLY")?[]:A.map(e=>{let t=e.maLoaiCongTrinh||"HAT_QLY",r=(0,u.dI)(t,M)||"#000000";return{...e,maLoaiCongTrinh:t,color:r}}),[A,F,M]),ep=(0,n.useCallback)(()=>{ee(!1),_(!0)},[]),em=(0,n.useCallback)(()=>{J(e=>e+1)},[]);return(0,a.jsx)(p.Provider,{value:{doanDeList:r,keList:v,cotKMList:D,khoVatTuList:I,dcanhList:x,congList:E,suCoDeList:z,hatQlyDeList:A,legendData:M,filteredDoanDeList:ei,filteredKeList:ec,filteredCotKMList:el,filteredCuaKhauList:eu,filteredKhoVatTuList:eh,filteredDCanhList:es,filteredCongList:ed,filteredSuCoDeList:eg,filteredHatQlyDeList:ey,filters:Q,setFilters:Z,selectedMaLoaiList:F,setSelectedMaLoaiList:G,selectedItem:O,setSelectedItem:P,dialogOpen:V,setDialogOpen:_,popupOpen:$,setPopupOpen:ee,popupPosition:et,setPopupPosition:er,legendVisible:q,setLegendVisible:H,focusedId:Y,setFocusedId:W,handleDikeClick:(e,t)=>{P(e),er(t),ee(!0)},handleKeClick:(e,t)=>{P(e),er(t),ee(!0)},handleCotKMClick:(e,t)=>{P(e),er(t),ee(!0)},handleCuaKhauClick:(e,t)=>{P(e),er(t),ee(!0)},handleCongClick:(e,t)=>{P(e),er(t),ee(!0)},handleKhoVatTuClick:(e,t)=>{P(e),er(t),ee(!0)},handleDCanhClick:(e,t)=>{P(e),er(t),ee(!0)},handleSuCoDeClick:(e,t)=>{P(e),er(t),ee(!0)},handleHatQlyDeClick:(e,t)=>{P(e),er(t),ee(!0)},handleViewDetails:ep,handleDataChange:em,refreshKey:U,layerLabelState:X,setLayerLabelState:R,infoDrawerOpen:k,setInfoDrawerOpen:L,clickedCoordinates:ea,setClickedCoordinates:en},children:t})}},92893:function(e,t,r){r.d(t,{dI:function(){return n},oN:function(){return a}});let a=(e,t)=>{let r="";return e.forEach(e=>{var a,n;let o=(null==e?void 0:null===(a=e.data)||void 0===a?void 0:a.maLoai)||(null==e?void 0:e.maLoai),i=(null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.icon)||(null==e?void 0:e.icon);o===t.maLoaiCongTrinh&&i&&!(r=i.replace(/fill="[^"]*"/g,'fill="'.concat(t.color,'"')).replace(/stroke="[^"]*"/g,'stroke="'.concat(t.color,'"'))).includes("fill=")&&(r=r.replace(/<polygon([^>]*)/i,'<polygon$1 fill="'.concat(t.color,'" stroke="').concat(t.color,'" fill-opacity="0.8" stroke-opacity="1"'))),Array.isArray(e.children)&&e.children.forEach(e=>{var a;(null===(a=e.data)||void 0===a?void 0:a.maLoai)===t.maLoaiCongTrinh&&e.data.icon&&!(r=e.data.icon.replace(/fill="[^"]*"/g,'fill="'.concat(t.color,'"')).replace(/stroke="[^"]*"/g,'stroke="'.concat(t.color,'"'))).includes("fill=")&&(r=r.replace(/<polygon([^>]*)/i,'<polygon$1 fill="'.concat(t.color,'" stroke="').concat(t.color,'" fill-opacity="0.8" stroke-opacity="1"')))})}),r};function n(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#3f51b5";if(!e||!t||0===t.length)return r;for(let o of t){var a,n;if(((null==o?void 0:null===(a=o.data)||void 0===a?void 0:a.maLoai)||(null==o?void 0:o.maLoai))===e){let e=o.color||(null==o?void 0:null===(n=o.data)||void 0===n?void 0:n.maMau);if(e)return e}for(let t of o.children){if(t.data&&t.data.maLoai===e)return t.color||r;if(t.children&&t.children.length>0){for(let a of t.children)if(a.data&&a.data.maLoai===e)return a.color||r}}}return r}},39123:function(e,t,r){r.d(t,{m:function(){return o}});var a=r(64577);class n{async getAllCong(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];try{return await (0,a.getData)("de-dieu-pctt/cong",e,void 0,t)||{items:[],totalItems:0,pageNumber:1,pageSize:10}}catch(e){return console.error("Lỗi khi lấy danh s\xe1ch cống:",e),{items:[],totalItems:0,pageNumber:1,pageSize:10}}}async getCongById(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(!e)return null;try{return await (0,a.getData)("de-dieu-pctt/cong/".concat(e),null,void 0,t)}catch(t){return console.error("Lỗi khi lấy cống ID = ".concat(e,":"),t),null}}async saveCong(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{if(""===e.id&&(e.id=void 0),!e.tenCong)throw Error("Thiếu t\xean cống");let r={...e};if("string"==typeof r.toaDo)try{r.toaDo=JSON.parse(r.toaDo)}catch(e){throw console.error("Lỗi khi parse dữ liệu tọa độ:",e),Error("Dữ liệu tọa độ kh\xf4ng hợp lệ. Vui l\xf2ng kiểm tra định dạng GeoJSON.")}let n=await (0,a.saveData)("de-dieu-pctt/cong",r,"Lưu cống th\xe0nh c\xf4ng",t);return!!n&&!n.error}catch(e){return console.error("Lỗi khi lưu cống:",e),!1}}async deleteCong(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return!1;try{let r=await (0,a.deleteData)("de-dieu-pctt/cong/".concat(e),"X\xf3a cống th\xe0nh c\xf4ng",t);return!!r&&!r.error}catch(t){return console.error("Lỗi khi x\xf3a cống ID = ".concat(e,":"),t),!1}}getChucNangText(e){switch(e){case 1:return"Ti\xeau";case 2:return"Tưới";case 3:return"Kết hợp";default:return"Kh\xf4ng x\xe1c định"}}getViTriCongText(e){switch(e){case 0:return"Qua đ\xea";case 1:return"Hệ k\xeanh";case 2:return"Cửa s\xf4ng/biển";default:return"Kh\xf4ng x\xe1c định"}}getKieuVanChinhText(e){switch(e){case 0:return"Th\xe9p phẳng";case 1:return"Phẳng BTCT";case 2:return"2 h\xe0ng c\xe1nh";default:return"Kh\xf4ng x\xe1c định"}}getHinhThucDongMoText(e){switch(e){case 0:return"Thủ c\xf4ng";case 1:return"B\xe1n tự động";case 2:return"Tự động";default:return"Kh\xf4ng x\xe1c định"}}}let o=new n},16855:function(e,t,r){r.d(t,{f:function(){return o}});var a=r(64577);class n{async getAllCotKM(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];try{return await (0,a.getData)("de-dieu-pctt/cot-km",e,void 0,t)||{items:[],totalItems:0,pageNumber:1,pageSize:10}}catch(e){return console.error("Lỗi khi lấy danh s\xe1ch cột chỉ mục:",e),{items:[],totalItems:0,pageNumber:1,pageSize:10}}}async getCotKMById(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(!e)return null;try{return await (0,a.getData)("de-dieu-pctt/cot-km/".concat(e),null,void 0,t)}catch(t){return console.error("Lỗi khi lấy cột chỉ mục ID = ".concat(e,":"),t),null}}async saveCotKM(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{if(""===e.id&&(e.id=void 0),!e.viTri)throw Error("Thiếu th\xf4ng tin vị tr\xed. Vui l\xf2ng kiểm tra lại.");let r={...e};if("string"==typeof r.toaDo)try{r.toaDo=JSON.parse(r.toaDo)}catch(e){throw console.error("Lỗi khi parse dữ liệu tọa độ:",e),Error("Dữ liệu tọa độ kh\xf4ng hợp lệ. Vui l\xf2ng kiểm tra định dạng GeoJSON.")}let n=await (0,a.saveData)("de-dieu-pctt/cot-km",r,"Lưu cột chỉ mục th\xe0nh c\xf4ng",t);return!!n&&!n.error}catch(e){return console.error("Lỗi khi lưu cột chỉ mục:",e),!1}}async deleteCotKM(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return!1;try{let r=await (0,a.deleteData)("de-dieu-pctt/cot-km/".concat(e),"X\xf3a cột chỉ mục th\xe0nh c\xf4ng",t);return!!r&&!r.error}catch(t){return console.error("Lỗi khi x\xf3a cột chỉ mục ID = ".concat(e,":"),t),!1}}}let o=new n},48568:function(e,t,r){r.d(t,{s:function(){return o}});var a=r(64577);class n{async getAllCuaKhau(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];try{return await (0,a.getData)("de-dieu-pctt/cua-khau",e,void 0,t)||{items:[],totalItems:0,pageNumber:1,pageSize:10}}catch(e){return console.error("Lỗi khi lấy danh s\xe1ch cửa khẩu:",e),{items:[],totalItems:0,pageNumber:1,pageSize:10}}}async getCuaKhauById(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(!e)return null;try{return await (0,a.getData)("de-dieu-pctt/cua-khau/".concat(e),null,void 0,t)}catch(t){return console.error("Lỗi khi lấy cửa khẩu ID = ".concat(e,":"),t),null}}async saveCuaKhau(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{if(""===e.id&&(e.id=void 0),!e.tenCuaKhau)throw Error("Thiếu t\xean cửa khẩu");let r={...e};if("string"==typeof r.toaDo)try{r.toaDo=JSON.parse(r.toaDo)}catch(e){throw console.error("Lỗi khi parse dữ liệu tọa độ:",e),Error("Dữ liệu tọa độ kh\xf4ng hợp lệ. Vui l\xf2ng kiểm tra định dạng GeoJSON.")}let n=await (0,a.saveData)("de-dieu-pctt/cua-khau",r,"Lưu cửa khẩu th\xe0nh c\xf4ng",t);return!!n&&!n.error}catch(e){return console.error("Lỗi khi lưu cửa khẩu:",e),!1}}async deleteCuaKhau(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return!1;try{let r=await (0,a.deleteData)("de-dieu-pctt/cua-khau/".concat(e),"X\xf3a cửa khẩu th\xe0nh c\xf4ng",t);return!!r&&!r.error}catch(t){return console.error("Lỗi khi x\xf3a cửa khẩu ID = ".concat(e,":"),t),!1}}}let o=new n},83063:function(e,t,r){r.d(t,{a:function(){return o}});var a=r(64577);class n{async getAllDiemCanhDe(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];try{return await (0,a.getData)("de-dieu-pctt/diem-canh-de",e,void 0,t)||{items:[],totalItems:0,pageNumber:1,pageSize:10}}catch(e){return console.error("Error fetching diem canh de:",e),{items:[],totalItems:0,pageNumber:1,pageSize:10}}}async getDiemCanhDeById(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(!e)return null;try{return await (0,a.getData)("de-dieu-pctt/diem-canh-de/".concat(e),null,void 0,t)}catch(t){return console.error("Error fetching diem canh de with id ".concat(e,":"),t),null}}async createDiemCanhDe(e){try{return await (0,a.saveData)("de-dieu-pctt/diem-canh-de",e,"POST",!1)}catch(e){return console.error("Error creating diem canh de:",e),null}}async updateDiemCanhDe(e,t){try{return await (0,a.saveData)("de-dieu-pctt/diem-canh-de/".concat(e),t,"PUT",!1)}catch(t){return console.error("Error updating diem canh de with id ".concat(e,":"),t),null}}async deleteDiemCanhDe(e){try{return await (0,a.deleteData)("de-dieu-pctt/diem-canh-de/".concat(e)),!0}catch(t){return console.error("Error deleting diem canh de with id ".concat(e,":"),t),!1}}async getAllDiemCanhDeNoPaging(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];try{return(await this.getAllDiemCanhDe({pageNumber:1,pageSize:1e3},e)).items||[]}catch(e){return console.error("Error fetching all diem canh de without paging:",e),[]}}}let o=new n},18708:function(e,t,r){r.d(t,{I:function(){return o}});var a=r(64577);class n{async getAllTuyenDe(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];try{return await (0,a.getData)("de-dieu-pctt/tuyen-de",e,void 0,t)||{items:[],totalItems:0,pageNumber:1,pageSize:10}}catch(e){return console.error("Lỗi khi lấy danh s\xe1ch tuyến đ\xea:",e),{items:[],totalItems:0,pageNumber:1,pageSize:10}}}async getTuyenDeById(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(!e)return null;try{return await (0,a.getData)("de-dieu-pctt/tuyen-de/".concat(e),null,void 0,t)}catch(t){return console.error("Lỗi khi lấy tuyến đ\xea ID = ".concat(e,":"),t),null}}async saveTuyenDe(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];try{let r=await (0,a.saveData)("de-dieu-pctt/tuyen-de",e,"Lưu tuyến đ\xea th\xe0nh c\xf4ng",t);return!!r&&!r.error}catch(e){return console.error("Lỗi khi lưu tuyến đ\xea:",e),!1}}async deleteTuyenDe(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(!e)return!1;try{let r=await (0,a.deleteData)("de-dieu-pctt/tuyen-de/".concat(e),"X\xf3a tuyến đ\xea th\xe0nh c\xf4ng",t);return!!r&&!r.error}catch(t){return console.error("Lỗi khi x\xf3a tuyến đ\xea ID = ".concat(e,":"),t),!1}}async getAllDoanDe(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];try{return await (0,a.getData)("de-dieu-pctt/doan-de",e,void 0,t)||{items:[],totalItems:0,pageNumber:1,pageSize:10}}catch(e){return console.error("Lỗi lấy danh s\xe1ch đoạn đ\xea:",e),{items:[],totalItems:0,pageNumber:1,pageSize:10}}}async saveDoanDe(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];try{if(""===e.id&&(e.id=void 0),!e.tenDoan||!e.capDeId)throw Error("Thiếu th\xf4ng tin bắt buộc. Vui l\xf2ng kiểm tra lại.");let r={...e};if("string"==typeof r.toaDo)try{r.toaDo=JSON.parse(r.toaDo)}catch(e){throw console.error("Lỗi khi parse dữ liệu tọa độ:",e),Error("Dữ liệu tọa độ kh\xf4ng hợp lệ. Vui l\xf2ng kiểm tra định dạng GeoJSON.")}let n=await (0,a.saveData)("de-dieu-pctt/doan-de",r,"Lưu đoạn đ\xea th\xe0nh c\xf4ng",t);return!!n&&!n.error}catch(e){return console.error("Lỗi khi lưu đoạn đ\xea:",e),!1}}async getDoanDeById(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(!e)return null;try{return await (0,a.getData)("de-dieu-pctt/doan-de/".concat(e),null,void 0,t)}catch(t){return console.error("Lỗi khi lấy đoạn đ\xea ID = ".concat(e,":"),t),null}}async deleteDoanDe(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(!e)return!1;try{let r=await (0,a.deleteData)("de-dieu-pctt/doan-de/".concat(e),"X\xf3a đoạn đ\xea th\xe0nh c\xf4ng",t);return!!r&&!r.error}catch(t){return console.error("Lỗi khi x\xf3a đoạn đ\xea ID = ".concat(e,":"),t),!1}}async getAllCapDe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r=!(arguments.length>2)||void 0===arguments[2]||arguments[2];try{return await (0,a.getData)("de-dieu-pctt/cap-de",{pageNumber:e,pageSize:t},void 0,r)||{items:[],totalItems:0,pageNumber:e,pageSize:t}}catch(r){return console.error("Lỗi khi lấy danh s\xe1ch cấp đ\xea:",r),{items:[],totalItems:0,pageNumber:e,pageSize:t}}}async getCapDeById(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(!e)return null;try{return await (0,a.getData)("de-dieu-pctt/cap-de/".concat(e),null,void 0,t)}catch(t){return console.error("Lỗi khi lấy cấp đ\xea ID = ".concat(e,":"),t),null}}async saveCapDe(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];try{let r=await (0,a.saveData)("de-dieu-pctt/cap-de",e,"Lưu cấp đ\xea th\xe0nh c\xf4ng",t);return!!r&&!r.error}catch(e){return console.error("Lỗi khi lưu cấp đ\xea:",e),!1}}async deleteCapDe(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(!e)return!1;try{let r=await (0,a.deleteData)("de-dieu-pctt/cap-de/".concat(e),"X\xf3a cấp đ\xea th\xe0nh c\xf4ng",t);return!!r&&!r.error}catch(t){return console.error("Lỗi khi x\xf3a cấp đ\xea ID = ".concat(e,":"),t),!1}}async getAllLoaiCongTrinh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r=!(arguments.length>2)||void 0===arguments[2]||arguments[2];try{return await (0,a.getData)("de-dieu-pctt/loai-cong-trinh",{pageNumber:e,pageSize:t},void 0,r)||{items:[],totalItems:0,pageNumber:e,pageSize:t}}catch(r){return console.error("Lỗi khi lấy danh s\xe1ch loại c\xf4ng tr\xecnh:",r),{items:[],totalItems:0,pageNumber:e,pageSize:t}}}async getLoaiCongTrinhTree(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];try{return await (0,a.getData)("de-dieu-pctt/loai-cong-trinh/tree",null,void 0,e)||[]}catch(e){return console.error("Lỗi khi lấy cấu tr\xfac c\xe2y loại c\xf4ng tr\xecnh:",e),[]}}async getLoaiCongTrinhById(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(!e)return null;try{return await (0,a.getData)("de-dieu-pctt/loai-cong-trinh/".concat(e),null,void 0,t)}catch(t){return console.error("Lỗi khi lấy loại c\xf4ng tr\xecnh ID = ".concat(e,":"),t),null}}async saveLoaiCongTrinh(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];try{let r=await (0,a.saveData)("de-dieu-pctt/loai-cong-trinh",e,"Lưu loại c\xf4ng tr\xecnh th\xe0nh c\xf4ng",t);return!!r&&!r.error}catch(e){return console.error("Lỗi khi lưu loại c\xf4ng tr\xecnh:",e),!1}}async deleteLoaiCongTrinh(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(!e)return!1;try{let r=await (0,a.deleteData)("de-dieu-pctt/loai-cong-trinh/".concat(e),"X\xf3a loại c\xf4ng tr\xecnh th\xe0nh c\xf4ng",t);return!!r&&!r.error}catch(t){return console.error("Lỗi khi x\xf3a loại c\xf4ng tr\xecnh ID = ".concat(e,":"),t),!1}}async getAllLoaiTuyenDe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r=!(arguments.length>2)||void 0===arguments[2]||arguments[2];return this.getAllLoaiCongTrinh(e,t,r)}async getLoaiTuyenDeById(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return this.getLoaiCongTrinhById(e,t)}async saveLoaiTuyenDe(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return this.saveLoaiCongTrinh(e,t)}async deleteLoaiTuyenDe(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return this.deleteLoaiCongTrinh(e,t)}}let o=new n},36280:function(e,t,r){var a=r(64577);class n{async getAllHatQlyDe(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];try{return await (0,a.getData)("de-dieu-pctt/hat-quan-ly-de",e,void 0,t)||{items:[],totalItems:0,pageNumber:1,pageSize:10}}catch(e){return console.error("Lỗi khi lấy danh s\xe1ch hạt quản l\xfd đ\xea:",e),{items:[],totalItems:0,pageNumber:1,pageSize:10}}}async getHatQlyDeById(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(!e)return null;try{return await (0,a.getData)("de-dieu-pctt/hat-quan-ly-de/".concat(e),null,void 0,t)}catch(e){return console.error("Lỗi khi lấy hạt quản l\xfd đ\xea:",e),null}}async saveHatQlyDe(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];try{let r=e.id?"de-dieu-pctt/hat-quan-ly-de/".concat(e.id):"de-dieu-pctt/hat-quan-ly-de",n=e.id?"PUT":"POST";return await (0,a.saveData)(r,e,n,t)}catch(e){return console.error("Lỗi khi lưu hạt quản l\xfd đ\xea:",e),null}}async deleteHatQlyDe(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];try{return await (0,a.deleteData)("de-dieu-pctt/hat-quan-ly-de/".concat(e),void 0,t),!0}catch(e){return console.error("Lỗi khi x\xf3a hạt quản l\xfd đ\xea:",e),!1}}async saveMultipleHatQlyDe(e){try{let t=e.map(e=>this.saveHatQlyDe(e,!1));return await Promise.all(t),!0}catch(e){return console.error("Lỗi khi lưu nhiều hạt quản l\xfd đ\xea:",e),!1}}async filterHatQlyDe(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];try{return await (0,a.getData)("de-dieu-pctt/hat-quan-ly-de/filter",e,void 0,t)||{items:[],totalItems:0}}catch(e){return console.error("Lỗi khi lọc hạt quản l\xfd đ\xea:",e),{items:[],totalItems:0}}}}let o=new n;t.Z=o},72744:function(e,t,r){r.d(t,{M:function(){return o}});var a=r(64577);class n{async getAllKe(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];try{return await (0,a.getData)("de-dieu-pctt/ke",e,void 0,t)||{items:[],totalItems:0,pageNumber:1,pageSize:10}}catch(e){return console.error("Lỗi khi lấy danh s\xe1ch k\xe8:",e),{items:[],totalItems:0,pageNumber:1,pageSize:10}}}async getKeById(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(!e)return null;try{return await (0,a.getData)("de-dieu-pctt/ke/".concat(e),null,void 0,t)}catch(t){return console.error("Lỗi khi lấy k\xe8 ID = ".concat(e,":"),t),null}}async saveKe(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{if(""===e.id&&(e.id=void 0),!e.tenKe)throw Error("Thiếu th\xf4ng tin bắt buộc. Vui l\xf2ng kiểm tra lại.");let r={...e};if("string"==typeof r.toaDo)try{r.toaDo=JSON.parse(r.toaDo)}catch(e){throw console.error("Lỗi khi parse dữ liệu tọa độ:",e),Error("Dữ liệu tọa độ kh\xf4ng hợp lệ. Vui l\xf2ng kiểm tra định dạng GeoJSON.")}let n=await (0,a.saveData)("de-dieu-pctt/ke",r,"Lưu k\xe8 th\xe0nh c\xf4ng",t);return!!n&&!n.error}catch(e){return console.error("Lỗi khi lưu k\xe8:",e),!1}}async deleteKe(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return!1;try{let r=await (0,a.deleteData)("de-dieu-pctt/ke/".concat(e),"X\xf3a k\xe8 th\xe0nh c\xf4ng",t);return!!r&&!r.error}catch(t){return console.error("Lỗi khi x\xf3a k\xe8 ID = ".concat(e,":"),t),!1}}}let o=new n},61756:function(e,t,r){r.d(t,{d:function(){return o}});var a=r(64577);class n{async getAllKhoVatTu(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];try{return await (0,a.getData)("de-dieu-pctt/kho-vat-tu",e,void 0,t)||{items:[],totalItems:0,pageNumber:1,pageSize:10}}catch(e){return console.error("Lỗi khi lấy danh s\xe1ch kho vật tư:",e),{items:[],totalItems:0,pageNumber:1,pageSize:10}}}async getKhoVatTuById(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(!e)return null;try{return await (0,a.getData)("de-dieu-pctt/kho-vat-tu/".concat(e),null,void 0,t)}catch(t){return console.error("Lỗi khi lấy kho vật tư ID = ".concat(e,":"),t),null}}async saveKhoVatTu(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{if(""===e.id&&(e.id=void 0),!e.tenKho)throw Error("T\xean kho vật tư kh\xf4ng được để trống. Vui l\xf2ng kiểm tra lại.");let r={...e};if("string"==typeof r.toaDo)try{r.toaDo=JSON.parse(r.toaDo)}catch(e){throw console.error("Lỗi khi parse dữ liệu tọa độ:",e),Error("Dữ liệu tọa độ kh\xf4ng hợp lệ. Vui l\xf2ng kiểm tra định dạng GeoJSON.")}let n=await (0,a.saveData)("de-dieu-pctt/kho-vat-tu",r,"Lưu kho vật tư th\xe0nh c\xf4ng",t);return!!n&&!n.error}catch(e){return console.error("Lỗi khi lưu kho vật tư:",e),!1}}async deleteKhoVatTu(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return!1;try{let r=await (0,a.deleteData)("de-dieu-pctt/kho-vat-tu/".concat(e),"X\xf3a kho vật tư th\xe0nh c\xf4ng",t);return!!r&&!r.error}catch(t){return console.error("Lỗi khi x\xf3a kho vật tư ID = ".concat(e,":"),t),!1}}}let o=new n},97562:function(e,t,r){r.d(t,{H:function(){return o}});var a=r(64577);class n{async getAllSuCoDe(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];try{return await (0,a.getData)("de-dieu-pctt/suco-de",e,void 0,t)||{items:[],totalItems:0,pageNumber:1,pageSize:10}}catch(e){return console.error("Error fetching sự cố đ\xea:",e),{items:[],totalItems:0,pageNumber:1,pageSize:10}}}async getSuCoDeById(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(!e)return null;try{return await (0,a.getData)("de-dieu-pctt/suco-de/".concat(e),null,void 0,t)}catch(t){return console.error("Error fetching sự cố đ\xea with id ".concat(e,":"),t),null}}async createSuCoDe(e){try{return await (0,a.saveData)("de-dieu-pctt/suco-de",e,"POST",!1)}catch(e){return console.error("Error creating sự cố đ\xea:",e),null}}async updateSuCoDe(e,t){try{return await (0,a.saveData)("de-dieu-pctt/suco-de/".concat(e),t,"PUT",!1)}catch(t){return console.error("Error updating sự cố đ\xea with id ".concat(e,":"),t),null}}async deleteSuCoDe(e){try{return await (0,a.deleteData)("de-dieu-pctt/suco-de/".concat(e)),!0}catch(t){return console.error("Error deleting sự cố đ\xea with id ".concat(e,":"),t),!1}}async uploadSuCoDeMedia(e){try{let{apiUrl:t}=await Promise.resolve().then(r.bind(r,3085)),a=(await Promise.resolve().then(r.bind(r,31955))).default.get("authToken"),n=await fetch("".concat(t,"/de-dieu-pctt/suco-de/media"),{method:"POST",headers:{Authorization:"Bearer ".concat(a)},body:e});if(!n.ok){let e=await n.text();throw console.error("Upload failed:",n.status,e),Error("Upload failed: ".concat(n.status," ").concat(e))}return await n.json()}catch(e){throw console.error("Error uploading media for sự cố đ\xea:",e),e}}async deleteSuCoDeMedia(e){try{return await (0,a.deleteData)("de-dieu-pctt/suco-de/media/".concat(e)),!0}catch(t){return console.error("Error deleting media with id ".concat(e,":"),t),!1}}async getAllSuCoDeNoPaging(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];try{return(await this.getAllSuCoDe({pageNumber:1,pageSize:1e3},e)).items||[]}catch(e){return console.error("Error fetching all sự cố đ\xea without paging:",e),[]}}async getAllSuCoLoai(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];try{return await (0,a.getData)("de-dieu-pctt/suco-loai",e,void 0,t)||{items:[],totalItems:0,pageNumber:1,pageSize:10}}catch(e){return console.error("Error fetching loại sự cố:",e),{items:[],totalItems:0,pageNumber:1,pageSize:10}}}async getAllSuCoLoaiNoPage(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];try{return await (0,a.getData)("de-dieu-pctt/suco-loai",null,void 0,e)||[]}catch(e){return console.error("Error fetching all loại sự cố:",e),[]}}async getSuCoLoaiById(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(!e)return null;try{return await (0,a.getData)("de-dieu-pctt/suco-loai/".concat(e),null,void 0,t)}catch(t){return console.error("Error fetching loại sự cố with id ".concat(e,":"),t),null}}async createSuCoLoai(e){try{return await (0,a.saveData)("de-dieu-pctt/suco-loai",e,"POST",!1)}catch(e){return console.error("Error creating loại sự cố:",e),null}}async updateSuCoLoai(e,t){try{return await (0,a.saveData)("de-dieu-pctt/suco-loai/".concat(e),t,"PUT",!1)}catch(t){return console.error("Error updating loại sự cố with id ".concat(e,":"),t),null}}async deleteSuCoLoai(e){try{return await (0,a.deleteData)("de-dieu-pctt/suco-loai/".concat(e)),!0}catch(t){return console.error("Error deleting loại sự cố with id ".concat(e,":"),t),!1}}}let o=new n}}]);