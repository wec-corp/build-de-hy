(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5930],{448:function(e,l,t){"use strict";var n=t(85893),s=t(89090),a=t(21038),i=t(60990),o=t(52857),r=t(51423),c=t(44723),h=t(49986),d=t(51015),u=t(67294),x=t(64577);l.Z=e=>{let{url:l,data:t,setPostSuccess:m}=e,[g,j]=(0,u.useState)(null),Z=!!g,f=()=>{j(null)},p=async e=>{let t=e.id;await (0,x.deleteData)("".concat(l),t),"function"==typeof m&&m(!0)},v=(0,u.useRef)(!0);return(0,u.useEffect)(()=>(v.current=!0,()=>{v.current=!1}),[]),(0,n.jsx)(a.Z,{title:"X\xf3a bản ghi?",children:(0,n.jsxs)(i.Z,{children:[(0,n.jsx)(o.Z,{"aria-describedby":null==t?void 0:t.id,className:"tableActionBtn deleteBtn",onClick:e=>{j(e.currentTarget)},"data-row-id":null==t?void 0:t.id,size:"small",children:(0,n.jsx)(s.Z,{})}),(0,n.jsx)(r.ZP,{id:Z?null==t?void 0:t.id:void 0,open:Z,anchorEl:g,onClose:f,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:(0,n.jsxs)(c.Z,{severity:"warning",children:["X\xf3a bản ghi n\xe0y ?",(0,n.jsx)(i.Z,{sx:{justifyContent:"center",paddingTop:4,width:"100%"},children:(0,n.jsxs)(h.Z,{variant:"outlined","aria-label":"outlined button group",children:[(0,n.jsx)(d.Z,{size:"small",onClick:()=>{g&&t&&p(t),j(null)},children:"Đ\xfang"}),(0,n.jsx)(d.Z,{color:"error",size:"small",onClick:f,children:"Hủy"})]})})]})})]})})}},38138:function(e,l,t){"use strict";var n=t(85893),s=t(67294),a=t(75486),i=t(84166),o=t(88196),r=t(36795),c=t(88539),h=t(96788),d=t(51015),u=t(40110),x=t(95639);let m=s.forwardRef(function(e,l){return(0,n.jsx)(a.Z,{direction:"left",ref:l,...e})});l.Z=e=>{let{children:l}=e,[t,a]=(0,s.useState)(null),[g,j]=(0,s.useState)(null),[Z,f]=(0,s.useState)(!1),p=()=>{a(null),j(null),f(!1)};return(0,n.jsxs)(i.Z,{children:[l((e,l)=>{a(e),j(l),f(!0)},p),(0,n.jsx)(o.Z,{open:Z,onClose:p,fullScreen:!0,TransitionComponent:m,sx:{zIndex:1201},children:t&&(0,n.jsxs)(i.Z,{children:[(0,n.jsx)(r.Z,{sx:{position:"relative"},children:(0,n.jsxs)(c.Z,{sx:{maxHeight:45,minHeight:45,position:"sticky",top:0},children:[(0,n.jsx)(h.Z,{sx:{ml:2,flex:1,color:"#fff"},variant:"h6",component:"div",children:g}),(0,n.jsx)(d.Z,{className:"btn closeBtn",sx:{p:2,mr:-2},onClick:p,children:(0,n.jsx)(x.Z,{})})]})}),(0,n.jsx)(u.Z,{children:t})]})})]})}},82431:function(e,l,t){"use strict";var n=t(85893),s=t(51015),a=t(84105);l.Z=e=>{let{tableId:l,filename:t}=e;return(0,n.jsx)(s.Z,{onClick:()=>{!function(e,l){let t=document.getElementById(e),n=a.P6.table_to_sheet(t),s=[],i=[];for(let e=0;e<t.rows.length;++e){let l=t.rows[e];for(let t=0;t<l.cells.length;++t){let n=l.cells[t],a=n.getAttribute("colspan"),o=n.getAttribute("rowspan");a=a?parseInt(a,10):1,o=o?parseInt(o,10):1,(a>1||o>1)&&s.push({s:{r:e,c:t},e:{r:e+o-1,c:t+a-1}}),i[t]>0&&(--i[t],--t)}for(let e=0;e<l.cells.length;++e){let t=l.cells[e].getAttribute("rowspan");(t=t?parseInt(t,10):1)>1&&(i[e]=t-1)}}s.length>0&&(n["!merges"]||(n["!merges"]=[]),n["!merges"].push(...s));for(let e=0;e<t.rows.length;++e)for(let l=0;l<t.rows[e].cells.length;++l){let s=t.rows[e].cells[l],i=s.innerText;i=i.replace(/\n+/g,"\n"),s.closest("tbody")&&(n[a.P6.encode_cell({r:e,c:l})]={v:i,t:"s"})}let o=a.P6.book_new();a.P6.book_append_sheet(o,n,"Sheet1"),a.NC(o,"".concat(l,".xls"))}(l,t)},variant:"outlined",size:"small",fullWidth:!0,color:"primary",children:"Xuất Excel"})}},60068:function(e,l,t){"use strict";t.r(l),t.d(l,{default:function(){return N}});var n=t(85893),s=t(93454),a=t(96788),i=t(68573),o=t(60990),r=t(67294),c=t(35376),h=t(64577),d=t(39892),u=t(448),x=t(40492),m=t(96727),g=t(51015),j=t(97182),Z=t(21038),f=t(52857),p=t(68963),v=t(17071),b=t(53839),y=t(38138);let k=e=>{let{data:l,setPostSuccess:t,closeDialogs:s}=e,[a,o]=(0,r.useState)(!1),[c,d]=(0,r.useState)({id:(null==l?void 0:l.id)||0,thongSo:(null==l?void 0:l.thongSo)||null,donVi:(null==l?void 0:l.donVi)||0,hoDakDrink:(null==l?void 0:l.hoDakDrink)||0,hoNuocTrong:(null==l?void 0:l.hoNuocTrong)||0,hoSonTay:(null==l?void 0:l.hoSonTay)||0,hoSonTra1:(null==l?void 0:l.hoSonTra1)||0,hoDawkre:(null==l?void 0:l.hoDawkre)||0,hoDaksoacvk:(null==l?void 0:l.hoDaksoacvk)||0}),u=e=>l=>{d({...c,[e]:l})},Z=async e=>{e.preventDefault(),f()},f=async()=>{try{o(!0),console.log(c),await (0,h.saveData)("ThongSoKyThuat/luu",c)&&(t&&t(!0),s())}catch(e){console.error(e)}finally{o(!1)}};return(0,n.jsxs)("form",{onSubmit:Z,children:[(0,n.jsxs)(i.ZP,{container:!0,spacing:4,rowSpacing:1,children:[(0,n.jsx)(i.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,n.jsx)(x.Z,{size:"small",type:"text",label:"Th\xf4ng số",fullWidth:!0,placeholder:"",value:c.thongSo||"",onChange:e=>u("thongSo")(e.target.value)})}),(0,n.jsx)(i.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,n.jsx)(x.Z,{size:"small",type:"text",label:"Đơn vị",fullWidth:!0,placeholder:"",value:c.donVi||"",onChange:e=>u("donVi")(e.target.value)})})]}),(0,n.jsxs)(i.ZP,{container:!0,spacing:4,children:[(0,n.jsx)(i.ZP,{item:!0,xs:12,md:4,sm:12,sx:{my:2},children:(0,n.jsx)(x.Z,{size:"small",type:"text",label:"Hồ Đăk drinh",fullWidth:!0,placeholder:"",value:c.hoDakDrink||"",onChange:e=>u("hoDakDrink")(e.target.value)})}),(0,n.jsx)(i.ZP,{item:!0,xs:12,md:4,sm:12,sx:{my:2},children:(0,n.jsx)(x.Z,{size:"small",type:"text",label:"Hồ Nước Trong",fullWidth:!0,placeholder:"",value:c.hoNuocTrong||"",onChange:e=>u("hoNuocTrong")(e.target.value)})}),(0,n.jsx)(i.ZP,{item:!0,xs:12,md:4,sm:12,sx:{my:2},children:(0,n.jsx)(x.Z,{size:"small",type:"text",label:"Hồ Sơn T\xe2y",fullWidth:!0,placeholder:"",value:c.hoSonTay||"",onChange:e=>u("hoSonTay")(e.target.value)})})]}),(0,n.jsxs)(i.ZP,{container:!0,spacing:4,children:[(0,n.jsx)(i.ZP,{item:!0,xs:12,md:4,sm:12,sx:{my:2},children:(0,n.jsx)(x.Z,{size:"small",type:"text",label:"Hồ Sơn Tr\xe0 1",fullWidth:!0,placeholder:"",value:c.hoSonTra1||"",onChange:e=>u("hoSonTra1")(e.target.value)})}),(0,n.jsx)(i.ZP,{item:!0,xs:12,md:4,sm:12,sx:{my:2},children:(0,n.jsx)(x.Z,{size:"small",type:"text",label:"Hồ Dawk re",fullWidth:!0,placeholder:"",value:c.hoDawkre||"",onChange:e=>u("hoDawkre")(e.target.value)})}),(0,n.jsx)(i.ZP,{item:!0,xs:12,md:4,sm:12,sx:{my:2},children:(0,n.jsx)(x.Z,{size:"small",type:"text",label:"Hồ Dak soảcvk",fullWidth:!0,placeholder:"",value:c.hoDaksoacvk||"",onChange:e=>u("hoDaksoacvk")(e.target.value)})})]}),(0,n.jsxs)(m.Z,{sx:{p:0,mt:5},children:[(0,n.jsx)(g.Z,{size:"small",onClick:()=>{s()},className:"btn cancleBtn",children:"Hủy"}),(0,n.jsxs)(g.Z,{type:"submit",disabled:a,className:"btn saveBtn",children:[" ",a?(0,n.jsx)(j.Z,{color:"inherit",size:20}):(0,n.jsx)(p.Z,{})," \xa0 Lưu"," "]})]})]})};var T=e=>{let{data:l,isEdit:t,setPostSuccess:s}=e,a=t?"Thay đổi th\xf4ng tin th\xf4ng số kỹ thuật":"Th\xeam th\xf4ng số kỹ thuật chủ yếu của c\xe1c hồ chứa";return(0,n.jsx)(y.Z,{children:(e,i)=>(0,n.jsx)(o.Z,{children:t?(0,n.jsx)(Z.Z,{title:"Chỉnh sửa th\xf4ng tin",children:(0,n.jsx)(f.Z,{onClick:()=>e((0,n.jsx)(k,{data:l,closeDialogs:i,setPostSuccess:s}),a),children:(0,n.jsx)(v.Z,{className:"tableActionBtn"})})}):(0,n.jsx)(g.Z,{variant:"outlined",fullWidth:!0,startIcon:(0,n.jsx)(b.Z,{}),onClick:()=>e((0,n.jsx)(k,{data:l,closeDialogs:i,setPostSuccess:s}),a),children:"Th\xeam mới"})})})},S=t(88539),C=t(82431),D=t(53525),w=e=>{let{tableId:l}=e,[t,s]=(0,r.useState)(!1);return console.log(t),(0,n.jsx)(S.Z,{variant:"dense",children:(0,n.jsxs)(i.ZP,{container:!0,spacing:2,sx:{paddingY:3},className:"_flexEnd ",children:[(0,n.jsx)(i.ZP,{item:!0,xs:6,md:1.5,py:0,children:(0,n.jsx)(g.Z,{variant:"outlined",size:"small",fullWidth:!0,startIcon:(0,n.jsx)(D.Z,{}),children:"Tải lại"})}),(0,n.jsx)(i.ZP,{item:!0,xs:6,md:1.5,py:0,children:(0,n.jsx)(C.Z,{tableId:l,filename:l})}),(0,n.jsx)(i.ZP,{item:!0,xs:6,md:1.5,py:0,children:(0,n.jsx)(T,{isEdit:!1,setPostSuccess:()=>{s(e=>!e)}})})]})})},N=()=>{let[e,l]=(0,r.useState)([]),[t,x]=(0,r.useState)(!1),[m,g]=(0,r.useState)(!1),j=()=>{g(e=>!e)};return(0,r.useEffect)(()=>{(async function(){x(!0),await (0,h.getData)("ThongSoKyThuat/list").then(e=>{l(e)}).catch(e=>{console.log(e)}).finally(()=>{x(!1)})})()},[m]),(0,n.jsxs)(s.Z,{sx:{p:8},children:[(0,n.jsx)(i.ZP,{className:"_text_center",children:(0,n.jsxs)(a.Z,{className:"font-weight-bold",variant:"body1",textTransform:"uppercase",children:["TH\xd4NG SỐ KỸ THUẬT CHỦ YẾU CỦA C\xc1C HỒ CHỨA ",(0,n.jsx)("br",{}),"(Theo Quyết định số 911/QĐ-TTg ng\xe0y 25/7/2018)"]})}),t?(0,n.jsx)(c.Z,{}):(0,n.jsxs)(i.ZP,{className:"_text_center",sx:{"& .MuiTableRow-root":{height:"12px"},"& .MuiTableCell-root":{padding:"2px 8px"},mt:3},children:[(0,n.jsx)(w,{tableId:"thong-so"}),(0,n.jsx)(i.ZP,{className:"_text_center",sx:{"& .MuiTableRow-root":{height:"12px"},"& .MuiTableCell-root":{padding:"2px 8px"},mt:3},children:(0,n.jsx)(d.Z,{id:"thong-so",columns:[{id:"stt",label:"STT"},{id:"thongSo",label:"Th\xf4ng số",align:"left",minWidth:150},{id:"donVi",label:"Đơn vị",align:"left"},{id:"#",label:"HỒ CHỨA",align:"center",children:[{id:"#4",label:"Đăk drinh",align:"left",minWidth:100,elm:e=>(0,n.jsx)(a.Z,{className:"f_14",children:e.hoDakDrink})},{id:"#5",label:"Nước trong",align:"left",minWidth:100,elm:e=>(0,n.jsx)(a.Z,{className:"f_14",children:e.hoNuocTrong})},{id:"#4",label:"Sơn T\xe2y",align:"left",minWidth:100,elm:e=>(0,n.jsx)(a.Z,{className:"f_14",children:e.hoSonTay})},{id:"#5",label:"Sơn Tr\xe0 1",align:"left",minWidth:100,elm:e=>(0,n.jsx)(a.Z,{className:"f_14",children:e.hoSonTra1})},{id:"#",label:"Dak re",align:"center",children:[{id:"#4",label:"Dawk re",align:"left",minWidth:100,elm:e=>(0,n.jsx)(a.Z,{className:"f_14",children:e.hoDawkre})},{id:"#5",label:"Dak soảcvk",align:"left",minWidth:100,elm:e=>(0,n.jsx)(a.Z,{className:"f_14",children:e.hoDaksoacvk})}]}]},{id:"actions",label:"Thao t\xe1c",minWidth:150}],rows:e,loading:t,pagination:!0,actions:e=>(0,n.jsxs)(o.Z,{className:"group_btn",children:[(0,n.jsx)(T,{isEdit:!0,data:e,setPostSuccess:j}),(0,n.jsx)(u.Z,{url:"thong-so",data:e,setPostSuccess:j})]})})})]})]})}},20067:function(){},72061:function(){}}]);