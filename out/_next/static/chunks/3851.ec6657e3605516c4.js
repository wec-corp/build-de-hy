"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3851,7318],{37318:function(n,l,e){var t=e(85893),a=e(96788);let o=n=>parseFloat(null==n?void 0:n.toFixed(2));l.Z=(n,l)=>{let e=o(n);return(0,t.jsx)(a.Z,{style:{color:e<0?"red":"inherit",fontSize:"0.875rem"},children:l?"".concat(l,": ").concat(e):e})}},3851:function(n,l,e){e.r(l),e.d(l,{default:function(){return T}});var t=e(85893),a=e(67294),o=e(5152),i=e.n(o),s=e(64577),c=e(96788),d=e(60990),r=e(68573),h=e(93454),g=e(56894),u=e(65806),m=e(12166),x=e(39892),f=e(23759),Z=e(37318),b=e(6897),j=e(85533),C=n=>{let{onChange:l}=n,[e,o]=(0,a.useState)([]),i=n=>{let e=n.target.value;n.target.checked?(o([e]),l([e])):(o([]),l([]))};return(0,t.jsxs)(b.Z,{component:"fieldset",children:[(0,t.jsx)(j.Z,{component:"legend",children:"Chỉ số chất lượng nước thải"}),(0,t.jsxs)(g.Z,{children:[(0,t.jsx)(u.Z,{control:(0,t.jsx)(m.Z,{checked:e.includes("ltnBod"),onChange:i,value:"ltnBod"}),label:"BOD"}),(0,t.jsx)(u.Z,{control:(0,t.jsx)(m.Z,{checked:e.includes("ltnCod"),onChange:i,value:"ltnCod"}),label:"COD"}),(0,t.jsx)(u.Z,{control:(0,t.jsx)(m.Z,{checked:e.includes("ltnAmoni"),onChange:i,value:"ltnAmoni"}),label:"Amoni"}),(0,t.jsx)(u.Z,{control:(0,t.jsx)(m.Z,{checked:e.includes("ltnTongN"),onChange:i,value:"ltnTongN"}),label:"Tổng N"}),(0,t.jsx)(u.Z,{control:(0,t.jsx)(m.Z,{checked:e.includes("ltnTongP"),onChange:i,value:"ltnTongP"}),label:"Tổng P"}),(0,t.jsx)(u.Z,{control:(0,t.jsx)(m.Z,{checked:e.includes("ltnTSS"),onChange:i,value:"ltnTSS"}),label:"TSS"}),(0,t.jsx)(u.Z,{control:(0,t.jsx)(m.Z,{checked:e.includes("ltnColiform"),onChange:i,value:"ltnColiform"}),label:"Coliform"})]})]})},S=e(11461);let p=i()(()=>Promise.all([e.e(4028),e.e(9269),e.e(2573),e.e(7679),e.e(2527)]).then(e.bind(e,32527)),{loadableGenerated:{webpack:()=>[32527]},ssr:!1});var T=()=>{let[n,l]=(0,a.useState)([]),[e,o]=(0,a.useState)(!1),[i,b]=(0,a.useState)(!1),[j,T]=(0,a.useState)([15.012172,108.676488]),[k,v]=(0,a.useState)(9),[w,N]=(0,a.useState)(),[P,D]=(0,a.useState)(!1),[F,y]=(0,a.useState)(""),A=(0,a.useRef)(null),B=(0,a.useCallback)(async n=>{N(n);try{let l=await (0,f.N)("".concat(n.fileKML)),e=(0,f.M)(l);e&&(T([e.center[0],e.center[1]]),v(e.zoom)),A.current&&A.current.scrollIntoView({behavior:"smooth"})}catch(n){console.error("Error loading KML:",n)}},[]),H=[{id:"stt",label:"STT",rowspan:2},{id:"phanDoan",label:"Ph\xe2n đoạn s\xf4ng",align:"left",minWidth:200,elm:n=>(0,t.jsx)(c.Z,{className:"btnShowFilePdf",onClick:()=>B(n),children:null==n?void 0:n.phanDoan})},{id:"luuVucSong",label:"Lưu vực s\xf4ng",rowspan:2,align:"left",minWidth:150},{id:"song",label:"S\xf4ng",rowspan:2,align:"left",minWidth:250},{id:"tenDoanSong",label:"T\xean đoạn s\xf4ng",rowspan:2,align:"left",minWidth:250},{id:"chieuDai",label:(0,t.jsxs)(d.Z,{children:["Chiều d\xe0i",(0,t.jsx)("br",{})," đoạn s\xf4ng (km)"]}),rowspan:2,align:"left",minWidth:120},{id:"heSoFS",label:"Hệ số an to\xe0n(Fs)",rowspan:2,align:"left"},{id:"#",label:"KHẢ NĂNG TIẾP NHẬN NƯỚC THẢI, SỨC CHỊU TẢI Ltd (kg/ng\xe0y)",align:"left",children:[{id:"ltnBod",label:"BOD5 (mg/l)",align:"left",elm:n=>(0,Z.Z)(n.ltnBod)},{id:"ltnCod",label:"COD (mg/l)",align:"left",elm:n=>(0,Z.Z)(n.ltnCod)},{id:"ltnAmoni",label:"Amoni (mg/l)",align:"left",elm:n=>(0,Z.Z)(n.ltnAmoni)},{id:"ltnTongN",label:"Tổng N (mg/l)",align:"left",elm:n=>(0,Z.Z)(n.ltnTongN)},{id:"ltnTongP",label:"Tổng P (mg/l)",align:"left",elm:n=>(0,Z.Z)(n.ltnTongP)},{id:"ltnTSS",label:"Tổng chất rắn lơ lửng TSS (mg/l)",align:"left",elm:n=>(0,Z.Z)(n.ltnTSS)},{id:"ltnColiform",label:"Tổng Coliform (MPN/100ml)",align:"left",elm:n=>(0,Z.Z)(n.ltnColiform)}]},{id:"ghiChu",label:"Ghi ch\xfa",rowspan:2,align:"left"}],[I,L]=(0,a.useState)({phanDoan:""});return(0,a.useEffect)(()=>{(async function(){D(!0),await (0,s.getData)("PhanDoanSong/tai-luong",I).then(n=>{l(n)}).catch(n=>{console.log(n)}).finally(()=>{D(!1)})})()},[I]),(0,a.useEffect)(()=>{w||(T([15.012172,108.676488]),v(9))},[w,e]),(0,t.jsxs)(r.ZP,{container:!0,spacing:2,children:[(0,t.jsx)(r.ZP,{item:!0,xs:12,md:12,ref:A,sx:{height:"55vh",overflow:"hidden"},children:(0,t.jsxs)(h.Z,{elevation:3,sx:{height:"100%",position:"relative"},children:[(0,t.jsxs)(d.Z,{className:"map-legend",sx:{background:"white",px:2,zIndex:999,height:"auto",top:"15px"},children:[(0,t.jsx)(g.Z,{children:(0,t.jsx)(u.Z,{sx:{m:0},control:(0,t.jsx)(m.Z,{sx:{p:1},onClick:()=>b(!i)}),label:"Hiển thị t\xean đoạn s\xf4ng"})}),(0,t.jsx)(C,{onChange:n=>{y(n[0])}})]}),(0,t.jsx)(p,{center:j,zoom:k,mapData:w,selectedKmlFile:w?w.fileKML:null,loading:P,dischargeData:n,selectedFilter:F,showLabel:i})]})}),(0,t.jsx)(r.ZP,{item:!0,xs:12,children:(0,t.jsxs)(h.Z,{elevation:3,sx:{p:0,height:"100%"},children:[(0,t.jsx)(S.Z,{onChange:(n,l)=>{L(n),void 0!==l&&o(l)},tabId:"kntn"}),(0,t.jsx)(x.Z,{columns:H,rows:n,id:"kha-nang-tiep-nhan-nuoc-thai-song",loading:P,pagination:!0})]})})]})}}}]);