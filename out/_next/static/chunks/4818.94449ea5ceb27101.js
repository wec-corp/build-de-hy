(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4818],{448:function(e,n,i){"use strict";var l=i(85893),a=i(89090),t=i(21038),s=i(60990),h=i(52857),c=i(51423),o=i(44723),u=i(49986),d=i(51015),r=i(67294),m=i(64577);n.Z=e=>{let{url:n,data:i,setPostSuccess:x}=e,[g,p]=(0,r.useState)(null),j=!!g,Z=()=>{p(null)},v=async e=>{let i=e.id;await (0,m.deleteData)("".concat(n),i),"function"==typeof x&&x(!0)},f=(0,r.useRef)(!0);return(0,r.useEffect)(()=>(f.current=!0,()=>{f.current=!1}),[]),(0,l.jsx)(t.Z,{title:"X\xf3a bản ghi?",children:(0,l.jsxs)(s.Z,{children:[(0,l.jsx)(h.Z,{"aria-describedby":null==i?void 0:i.id,className:"tableActionBtn deleteBtn",onClick:e=>{p(e.currentTarget)},"data-row-id":null==i?void 0:i.id,size:"small",children:(0,l.jsx)(a.Z,{})}),(0,l.jsx)(c.ZP,{id:j?null==i?void 0:i.id:void 0,open:j,anchorEl:g,onClose:Z,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:(0,l.jsxs)(o.Z,{severity:"warning",children:["X\xf3a bản ghi n\xe0y ?",(0,l.jsx)(s.Z,{sx:{justifyContent:"center",paddingTop:4,width:"100%"},children:(0,l.jsxs)(u.Z,{variant:"outlined","aria-label":"outlined button group",children:[(0,l.jsx)(d.Z,{size:"small",onClick:()=>{g&&i&&v(i),p(null)},children:"Đ\xfang"}),(0,l.jsx)(d.Z,{color:"error",size:"small",onClick:Z,children:"Hủy"})]})})]})})]})})}},27776:function(e,n,i){"use strict";var l=i(85893),a=i(67294),t=i(84166),s=i(88196),h=i(92365),c=i(40110);n.Z=e=>{let{children:n}=e,[i,o]=(0,a.useState)(null),[u,d]=(0,a.useState)(null),[r,m]=(0,a.useState)(!1),x=()=>{o(null),d(null),m(!1)};return(0,l.jsxs)(t.Z,{children:[n((e,n)=>{o(e),d(n),m(!0)},x),(0,l.jsx)(s.Z,{open:r,onClose:x,children:i&&(0,l.jsxs)(t.Z,{children:[(0,l.jsx)(h.Z,{sx:{textAlign:"center",textTransform:"uppercase"},children:u}),(0,l.jsx)(c.Z,{children:i})]})})]})}},82431:function(e,n,i){"use strict";var l=i(85893),a=i(51015),t=i(84105);n.Z=e=>{let{tableId:n,filename:i}=e;return(0,l.jsx)(a.Z,{onClick:()=>{!function(e,n){let i=document.getElementById(e),l=t.P6.table_to_sheet(i),a=[],s=[];for(let e=0;e<i.rows.length;++e){let n=i.rows[e];for(let i=0;i<n.cells.length;++i){let l=n.cells[i],t=l.getAttribute("colspan"),h=l.getAttribute("rowspan");t=t?parseInt(t,10):1,h=h?parseInt(h,10):1,(t>1||h>1)&&a.push({s:{r:e,c:i},e:{r:e+h-1,c:i+t-1}}),s[i]>0&&(--s[i],--i)}for(let e=0;e<n.cells.length;++e){let i=n.cells[e].getAttribute("rowspan");(i=i?parseInt(i,10):1)>1&&(s[e]=i-1)}}a.length>0&&(l["!merges"]||(l["!merges"]=[]),l["!merges"].push(...a));for(let e=0;e<i.rows.length;++e)for(let n=0;n<i.rows[e].cells.length;++n){let a=i.rows[e].cells[n],s=a.innerText;s=s.replace(/\n+/g,"\n"),a.closest("tbody")&&(l[t.P6.encode_cell({r:e,c:n})]={v:s,t:"s"})}let h=t.P6.book_new();t.P6.book_append_sheet(h,l,"Sheet1"),t.NC(h,"".concat(n,".xls"))}(n,i)},variant:"outlined",size:"small",fullWidth:!0,color:"primary",children:"Xuất Excel"})}},49767:function(e,n,i){"use strict";var l=i(85893),a=i(68573),t=i(96788);n.Z=()=>(0,l.jsxs)(a.ZP,{className:"_space_between",sx:{mt:5},children:[(0,l.jsxs)(a.ZP,{children:[(0,l.jsx)(t.Z,{component:"p",variant:"caption",children:"Nơi nhận"}),(0,l.jsx)(t.Z,{component:"p",variant:"caption",children:"- Ban Gi\xe1m đốc sở"}),(0,l.jsx)(t.Z,{component:"p",variant:"caption",children:"- Lưu:VT; TNN, KS&KTTV; VP, 10b"})]}),(0,l.jsx)(a.ZP,{children:(0,l.jsx)(t.Z,{className:"font-weight-bold",component:"p",variant:"body1",children:"Người thống k\xea"})})]})},80113:function(e,n,i){"use strict";var l=i(85893),a=i(68573),t=i(96788);n.Z=()=>{let e=new Date,n=e.getDate(),i=e.getMonth()+1,s=e.getFullYear();return(0,l.jsxs)(a.ZP,{className:"_space_between",container:!0,sx:{my:5,display:"flex"},children:[(0,l.jsxs)(a.ZP,{className:"_text_center",item:!0,xs:4,children:[(0,l.jsx)(t.Z,{component:"p",variant:"caption",children:"UBND Tỉnh Quảng Ng\xe3i"}),(0,l.jsx)(t.Z,{component:"p",className:"font-weight-bold ",variant:"caption",fontSize:14,children:"SỞ T\xc0I NGUY\xcaN V\xc0 M\xd4I TRƯỜNG"}),(0,l.jsx)(t.Z,{component:"p",variant:"caption",children:"Số:.........../SNNMT-TNN-KS&KTTV"})]}),(0,l.jsxs)(a.ZP,{className:"_text_center",item:!0,xs:5,children:[(0,l.jsx)(t.Z,{component:"p",variant:"caption",children:"CỘNG HO\xc0 X\xc3 HỘI CHỦ NGHĨA VIỆT NAM"}),(0,l.jsx)(t.Z,{className:"font-weight-bold ",component:"p",variant:"caption",children:"Độc lập - Tự do - Hạnh ph\xfac"}),(0,l.jsxs)(t.Z,{className:"italicText",component:"p",variant:"caption",children:["Qu\xe3ng Ng\xe3i,ng\xe0y ",n,",th\xe1ng ",i," ,năm",s]})]})]})}},12074:function(e,n,i){"use strict";i.d(n,{Z:function(){return B}});var l=i(85893),a=i(93454),t=i(96788),s=i(68573),h=i(60990),c=i(50720),o=i(17389),u=i(10586),d=i(64577),r=i(67294),m=i(35376),x=i(27484),g=i.n(x),p=i(39892),j=i(448),Z=i(80113),v=i(88539),f=i(40492),D=i(51015),y=i(82431),N=i(38855),b=i(53525),C=i(68963),P=i(55201),S=i(53839),T=i(96727),_=i(97182),H=i(27776);let w=e=>{let{data:n,setPostSuccess:i,closeDialogs:a}=e,[t,c]=(0,r.useState)({id:(null==n?void 0:n.id)||0,doanSong:(null==n?void 0:n.doanSong)||"",chieuDai:(null==n?void 0:n.chieuDai)||0,huyen:(null==n?void 0:n.huyen)||"",diaPhanHanhChinh:(null==n?void 0:n.diaPhanHanhChinh)||"",xDiemDau:(null==n?void 0:n.xDiemDau)||0,yDiemDau:(null==n?void 0:n.yDiemDau)||0,xDiemCuoi:(null==n?void 0:n.xDiemCuoi)||0,yDiemCuoi:(null==n?void 0:n.yDiemCuoi)||0,chucNang:(null==n?void 0:n.chucNang)||"",phamViHanhLangBaoVe:(null==n?void 0:n.phamViHanhLangBaoVe)||"",thoiGianThucHien:(null==n?void 0:n.thoiGianThucHien)||null}),[o,u]=(0,r.useState)(!1),m=e=>n=>{c({...t,[e]:n})},x=async e=>{e.preventDefault(),(async()=>{u(!0);try{await (0,d.saveData)("NN_HanhLangBaoVeNN_SongSuoi/luu",t)&&(c({id:0,doanSong:"",chieuDai:0,diaPhanHanhChinh:"",huyen:"",xDiemDau:0,yDiemDau:0,xDiemCuoi:0,yDiemCuoi:0,chucNang:"",phamViHanhLangBaoVe:"",thoiGianThucHien:null}),"function"==typeof i&&i(!0),a())}catch(e){console.log(e)}finally{u(!1)}})()};return(0,l.jsxs)(h.Z,{children:[(0,l.jsxs)(s.ZP,{container:!0,spacing:3,children:[(0,l.jsx)(s.ZP,{item:!0,xs:12,md:6,sm:12,children:(0,l.jsx)(f.Z,{size:"small",type:"text",label:"Đoạn s\xf4ng",fullWidth:!0,placeholder:"",value:t.doanSong||"",onChange:e=>m("doanSong")(e.target.value)})}),(0,l.jsx)(s.ZP,{item:!0,xs:12,md:6,sm:12,children:(0,l.jsx)(f.Z,{size:"small",type:"text",label:"Chiều d\xe0i",fullWidth:!0,placeholder:"",value:t.chieuDai||"",onChange:e=>m("chieuDai")(e.target.value)})}),(0,l.jsx)(s.ZP,{item:!0,xs:12,md:6,sm:12,children:(0,l.jsx)(f.Z,{size:"small",type:"text",label:"Địa phận h\xe0nh ch\xednh",fullWidth:!0,placeholder:"",value:t.diaPhanHanhChinh||"",onChange:e=>m("diaPhanHanhChinh")(e.target.value)})}),(0,l.jsx)(s.ZP,{item:!0,xs:12,md:6,sm:12,children:(0,l.jsx)(f.Z,{size:"small",type:"text",label:"Huyện",fullWidth:!0,placeholder:"",value:t.huyen||"",onChange:e=>m("huyen")(e.target.value)})}),(0,l.jsx)(s.ZP,{item:!0,xs:12,md:6,sm:12,children:(0,l.jsx)(f.Z,{size:"small",type:"text",label:"X điểm đầu",fullWidth:!0,placeholder:"",value:t.xDiemDau||"",onChange:e=>m("xDiemDau")(e.target.value)})}),(0,l.jsx)(s.ZP,{item:!0,xs:12,md:6,sm:12,children:(0,l.jsx)(f.Z,{size:"small",type:"text",label:"Y điểm đầu",fullWidth:!0,placeholder:"",value:t.yDiemDau||"",onChange:e=>m("yDiemDau")(e.target.value)})}),(0,l.jsx)(s.ZP,{item:!0,xs:12,md:6,sm:12,children:(0,l.jsx)(f.Z,{size:"small",type:"text",label:"X điểm cuối",fullWidth:!0,placeholder:"",value:t.xDiemCuoi||"",onChange:e=>m("xDiemCuoi")(e.target.value)})}),(0,l.jsx)(s.ZP,{item:!0,xs:12,md:6,sm:12,children:(0,l.jsx)(f.Z,{size:"small",type:"text",label:"Y điểm cuối",fullWidth:!0,placeholder:"",value:t.yDiemCuoi||"",onChange:e=>m("yDiemCuoi")(e.target.value)})}),(0,l.jsx)(s.ZP,{item:!0,xs:12,md:6,sm:12,children:(0,l.jsx)(f.Z,{size:"small",type:"text",label:"Chức năng",fullWidth:!0,placeholder:"",value:t.chucNang||"",onChange:e=>m("chucNang")(e.target.value)})}),(0,l.jsx)(s.ZP,{item:!0,xs:12,md:6,sm:12,children:(0,l.jsx)(f.Z,{size:"small",type:"text",label:"Phạm vi h\xe0nh lang bảo vệ",fullWidth:!0,placeholder:"",value:t.phamViHanhLangBaoVe||"",onChange:e=>m("phamViHanhLangBaoVe")(e.target.value)})}),(0,l.jsx)(s.ZP,{item:!0,xs:12,md:6,sm:12,children:(0,l.jsx)(f.Z,{size:"small",type:"text",label:"Thời gian thực hiện",fullWidth:!0,placeholder:"",value:t.thoiGianThucHien||"",onChange:e=>m("thoiGianThucHien")(e.target.value)})})]}),(0,l.jsxs)(T.Z,{sx:{p:0,mt:5},children:[(0,l.jsx)(D.Z,{size:"small",onClick:()=>{c({id:0,doanSong:"",chieuDai:0,diaPhanHanhChinh:"",huyen:"",xDiemDau:0,yDiemDau:0,xDiemCuoi:0,yDiemCuoi:0,chucNang:"",phamViHanhLangBaoVe:"",thoiGianThucHien:null}),a()},className:"btn cancleBtn",children:"Hủy"}),(0,l.jsxs)(D.Z,{disabled:o,className:"btn saveBtn",onClick:x,children:[" ",o?(0,l.jsx)(_.Z,{color:"inherit",size:20}):(0,l.jsx)(C.Z,{})," \xa0 Lưu"," "]})]})]})};var W=e=>{let{data:n,setPostSuccess:i,isEdit:a}=e,t=a?"Thay đổi th\xf4ng tin":"Th\xeam mới";return(0,l.jsx)(H.Z,{children:(e,s)=>(0,l.jsx)(h.Z,{children:a?(0,l.jsx)(D.Z,{children:(0,l.jsx)(P.Z,{className:"tableActionBtn",onClick:()=>e((0,l.jsx)(w,{data:n,setPostSuccess:i,closeDialogs:s}),t)})}):(0,l.jsx)(D.Z,{variant:"outlined",size:"small",startIcon:(0,l.jsx)(S.Z,{}),onClick:()=>e((0,l.jsx)(w,{setPostSuccess:i,closeDialogs:s}),t),children:"Th\xeam mới"})})})},V=e=>{let{tableId:n}=e,[i,a]=(0,r.useState)(!1);return console.log(i),(0,l.jsx)(v.Z,{variant:"dense",children:(0,l.jsxs)(s.ZP,{container:!0,spacing:2,sx:{paddingY:3},className:"_flexEnd ",children:[(0,l.jsx)(s.ZP,{item:!0,xs:12,md:3,py:0,children:(0,l.jsx)(f.Z,{sx:{p:0},size:"small",fullWidth:!0,variant:"outlined",placeholder:"T\xean trạm..."})}),(0,l.jsx)(s.ZP,{item:!0,xs:6,md:1.5,py:0,children:(0,l.jsx)(D.Z,{variant:"outlined",size:"small",fullWidth:!0,startIcon:(0,l.jsx)(N.Z,{}),children:"T\xecm kiếm"})}),(0,l.jsx)(s.ZP,{item:!0,xs:6,md:1.5,py:0,children:(0,l.jsx)(D.Z,{variant:"outlined",size:"small",fullWidth:!0,startIcon:(0,l.jsx)(b.Z,{}),children:"Tải lại"})}),(0,l.jsx)(s.ZP,{item:!0,xs:6,md:1.5,py:0,children:(0,l.jsx)(y.Z,{tableId:n,filename:n})}),(0,l.jsx)(s.ZP,{item:!0,xs:6,md:1.5,py:0,children:(0,l.jsx)(W,{isEdit:!1,setPostSuccess:()=>{a(e=>!e)}})})]})})},z=i(49767),B=()=>{let[e,n]=(0,r.useState)([]),[i,x]=(0,r.useState)(!1),[v,f]=(0,r.useState)(new Date().getFullYear()),[D,y]=(0,r.useState)(!1),N=()=>{y(e=>!e)};return(0,r.useEffect)(()=>{(async function(){x(!0),await (0,d.getData)("NN_HanhLangBaoVeNN_SongSuoi/danh-sach").then(e=>{n(e)}).catch(e=>{console.log(e)}).finally(()=>{x(!1)})})()},[D]),(0,l.jsxs)(a.Z,{sx:{p:8},children:[(0,l.jsx)(Z.Z,{}),(0,l.jsxs)(s.ZP,{className:"_text_center",children:[(0,l.jsx)(t.Z,{className:"font-weight-bold ",variant:"h6",children:"Thống k\xea h\xe0nh lang bảo vệ nguồn nước đối với s\xf4ng suối tỉnh Quảng Ng\xe3i"}),(0,l.jsxs)(t.Z,{className:"font-weight-bold ",variant:"h6",children:["(Kỳ b\xe1o c\xe1o:"," ",(0,l.jsx)(c._,{dateAdapter:u.y,children:(0,l.jsx)(o.M,{views:["year"],value:g()(new Date(v,1,1)),onChange:e=>f(e.year()),slotProps:{textField:{size:"small",fullWidth:!0,required:!0}},sx:{width:"100px"}})}),")"]})]}),i?(0,l.jsx)(m.Z,{}):(0,l.jsxs)(s.ZP,{className:"_text_center",sx:{mt:3},children:[(0,l.jsx)(V,{tableId:"NN_HanhLangBaoVeNN_SongSuoi"}),(0,l.jsx)(p.Z,{id:"NN_HanhLangBaoVeNN_SongSuoi",columns:[{id:"stt",label:"STT"},{id:"doanSong",label:"Đoạn s\xf4ng",align:"left",minWidth:200},{id:"tenSong",label:"T\xean s\xf4ng",align:"left",minWidth:200},{id:"chieuDai",label:"Chiều d\xe0i",align:"left",minWidth:100},{id:"diaPhanHanhChinh",label:"Địa phận h\xe0nh ch\xednh",align:"left",minWidth:200},{id:"huyen",label:"Huyện",align:"left",minWidth:200},{id:"#",label:"Toạ độ điểm đầu",align:"left",children:[{id:"xDiemDau",label:"X điểm đầu",align:"left",minWidth:150,elm:e=>(0,l.jsx)(t.Z,{className:"f_14",children:null==e.xDiemDau?"-":e.xDiemDau})},{id:"yDiemDau",label:"Y điểm đầu",align:"left",minWidth:150,elm:e=>(0,l.jsx)(t.Z,{className:"f_14",children:null==e.yDiemDau?"-":e.yDiemDau})}]},{id:"#",label:"Toạ độ điểm cuối",align:"left",children:[{id:"xDiemCuoi",label:"X điểm cuối",align:"left",minWidth:150,elm:e=>(0,l.jsx)(t.Z,{className:"f_14",children:null==e.xDiemCuoi?"-":e.xDiemCuoi})},{id:"yDiemCuoi",label:"Y điểm cuối",align:"left",minWidth:150,elm:e=>(0,l.jsx)(t.Z,{className:"f_14",children:null==e.yDiemCuoi?"-":e.yDiemCuoi})}]},{id:"chucNang",label:"Chức năng",align:"left",minWidth:250},{id:"phamViHanhLangBaoVe",label:"Phạm vi h\xe0nh lang bảo vệ",align:"left"},{id:"thoiGianThucHien",label:"Thời gian thực hiện",align:"left"},{align:"center",id:"actions",label:"Thao t\xe1c",minWidth:150,rowspan:3}],rows:e,loading:i,pagination:!0,actions:e=>(0,l.jsxs)(h.Z,{children:[(0,l.jsx)(W,{isEdit:!0,data:e,setPostSuccess:N}),(0,l.jsx)(j.Z,{url:"NN_HanhLangBaoVeNN_SongSuoi",data:e,setPostSuccess:N})]})})]}),(0,l.jsx)(z.Z,{})]})}},20067:function(){},72061:function(){}}]);