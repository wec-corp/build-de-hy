"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7319,7318],{37318:function(e,n,l){var t=l(85893),a=l(96788);let o=e=>parseFloat(null==e?void 0:e.toFixed(2));n.Z=(e,n)=>{let l=o(e);return(0,t.jsx)(a.Z,{style:{color:l<0?"red":"inherit",fontSize:"0.875rem"},children:n?"".concat(n,": ").concat(l):l})}},37319:function(e,n,l){l.r(n),l.d(n,{default:function(){return T}});var t=l(85893),a=l(67294),o=l(5152),i=l.n(o),s=l(64577),c=l(96788),d=l(60990),r=l(68573),g=l(93454),h=l(39892),u=l(23759),m=l(37318),x=l(12166),f=l(65806),Z=l(6897),b=l(85533),j=l(56894),S=e=>{let{onChange:n}=e,[l,o]=(0,a.useState)([]),i=e=>{let l=e.target.value;e.target.checked?(o([l]),n([l])):(o([]),n([]))};return(0,t.jsxs)(Z.Z,{component:"fieldset",children:[(0,t.jsx)(b.Z,{component:"legend",children:"Chỉ số chất lượng nước thải"}),(0,t.jsxs)(j.Z,{children:[(0,t.jsx)(f.Z,{control:(0,t.jsx)(x.Z,{checked:l.includes("ltnBod"),onChange:i,value:"ltnBod"}),label:"BOD"}),(0,t.jsx)(f.Z,{control:(0,t.jsx)(x.Z,{checked:l.includes("ltnCod"),onChange:i,value:"ltnCod"}),label:"COD"}),(0,t.jsx)(f.Z,{control:(0,t.jsx)(x.Z,{checked:l.includes("ltnAmoni"),onChange:i,value:"ltnAmoni"}),label:"Amoni"}),(0,t.jsx)(f.Z,{control:(0,t.jsx)(x.Z,{checked:l.includes("ltnTongN"),onChange:i,value:"ltnTongN"}),label:"Tổng N"}),(0,t.jsx)(f.Z,{control:(0,t.jsx)(x.Z,{checked:l.includes("ltnTongP"),onChange:i,value:"ltnTongP"}),label:"Tổng P"}),(0,t.jsx)(f.Z,{control:(0,t.jsx)(x.Z,{checked:l.includes("ltnTSS"),onChange:i,value:"ltnTSS"}),label:"TSS"}),(0,t.jsx)(f.Z,{control:(0,t.jsx)(x.Z,{checked:l.includes("ltnColiform"),onChange:i,value:"ltnColiform"}),label:"Coliform"})]})]})},C=l(11461);let p=i()(()=>Promise.all([l.e(4028),l.e(9269),l.e(2573),l.e(7679),l.e(2527)]).then(l.bind(l,32527)),{loadableGenerated:{webpack:()=>[32527]},ssr:!1});var T=()=>{let[e,n]=(0,a.useState)([]),[l,o]=(0,a.useState)(!1),[i,x]=(0,a.useState)([15.012172,108.676488]),[f,Z]=(0,a.useState)(9),[b,j]=(0,a.useState)(),[T,v]=(0,a.useState)(!1),[D,k]=(0,a.useState)(""),N=(0,a.useRef)(null),w=(0,a.useCallback)(async e=>{j(e);try{let n=await (0,u.N)("".concat(e.fileKML)),l=(0,u.M)(n);l&&(x([l.center[0],l.center[1]]),Z(l.zoom)),N.current&&N.current.scrollIntoView({behavior:"smooth"})}catch(e){console.error("Error loading KML:",e)}},[]),P=[{id:"stt",label:"STT",rowspan:2},{id:"phanDoan",label:"Ph\xe2n đoạn s\xf4ng",align:"left",minWidth:200,elm:e=>(0,t.jsx)(c.Z,{className:"btnShowFilePdf",onClick:()=>w(e),children:null==e?void 0:e.phanDoan})},{id:"luuVucSong",label:"Lưu vực s\xf4ng",rowspan:2,align:"left",minWidth:150},{id:"song",label:"S\xf4ng",rowspan:2,align:"left",minWidth:250},{id:"tenDoanSong",label:"T\xean đoạn s\xf4ng",rowspan:2,align:"left",minWidth:250},{id:"chieuDai",label:(0,t.jsxs)(d.Z,{children:["Chiều d\xe0i",(0,t.jsx)("br",{})," đoạn s\xf4ng (km)"]}),rowspan:2,align:"left",minWidth:120},{id:"heSoFS",label:"Hệ số an to\xe0n(Fs)",rowspan:2,align:"left"},{id:"#",label:"KHẢ NĂNG TIẾP NHẬN NƯỚC THẢI, SỨC CHỊU TẢI Ltd (kg/ng\xe0y)",align:"left",children:[{id:"ltnBod",label:"BOD5 (mg/l)",align:"left",elm:e=>(0,m.Z)(e.ltnBodDB)},{id:"ltnCod",label:"COD (mg/l)",align:"left",elm:e=>(0,m.Z)(e.ltnCodDB)},{id:"ltnAmoni",label:"Amoni (mg/l)",align:"left",elm:e=>(0,m.Z)(e.ltnAmoniDB)},{id:"ltnTongN",label:"Tổng N (mg/l)",align:"left",elm:e=>(0,m.Z)(e.ltnTongNDB)},{id:"ltnTongP",label:"Tổng P (mg/l)",align:"left",elm:e=>(0,m.Z)(e.ltnTongPDB)},{id:"ltnTSS",label:"Tổng chất rắn lơ lửng TSS (mg/l)",align:"left",elm:e=>(0,m.Z)(e.ltnTSSDB)},{id:"ltnColiform",label:"Tổng Coliform (MPN/100ml)",align:"left",elm:e=>(0,m.Z)(e.ltnColiformDB)}]}],[B,F]=(0,a.useState)({phanDoan:""});return(0,a.useEffect)(()=>{(async function(){v(!0),await (0,s.getData)("PhanDoanSong/tai-luong-du-bao",B).then(e=>{n(e)}).catch(e=>{console.log(e)}).finally(()=>{v(!1)})})()},[B]),(0,a.useEffect)(()=>{b||(x([15.012172,108.676488]),Z(9))},[b,l]),(0,t.jsxs)(r.ZP,{container:!0,spacing:2,children:[(0,t.jsx)(r.ZP,{item:!0,xs:12,md:12,ref:N,sx:{height:"55vh",overflow:"hidden"},children:(0,t.jsxs)(g.Z,{elevation:3,sx:{height:"100%",position:"relative"},children:[(0,t.jsx)(d.Z,{className:"map-legend",sx:{background:"white",px:2,zIndex:999,height:"auto",top:"15px"},children:(0,t.jsx)(S,{onChange:e=>{k(e[0])}})}),(0,t.jsx)(p,{center:i,zoom:f,mapData:b,selectedKmlFile:b?b.fileKML:null,loading:T,dischargeData:e,selectedFilter:D})]})}),(0,t.jsx)(r.ZP,{item:!0,xs:12,children:(0,t.jsxs)(g.Z,{elevation:3,sx:{p:0,height:"100%"},children:[(0,t.jsx)(C.Z,{onChange:(e,n)=>{F(e),void 0!==n&&o(n)},tabId:"aa"}),(0,t.jsx)(h.Z,{columns:P,rows:e,id:"kha-nang-tiep-nhan-nuoc-thai-song",loading:T,pagination:!0})]})})]})}}}]);